# üìö –ü–û–õ–ù–´–ô –†–ê–ó–ë–û–† –í–°–ï–• –§–ê–ô–õ–û–í –ü–†–û–ï–ö–¢–ê –¢–ï–õ–ï–ì–†–ê–ú –ë–û–¢
## –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ –æ–±—ä—è—Å–Ω–µ–Ω–∞ –æ—á–µ–Ω—å –ø–æ–¥—Ä–æ–±–Ω–æ

---

# –û–ì–õ–ê–í–õ–ï–ù–ò–ï
1. [–§–ê–ô–õ: requirements.txt](#—Ñ–∞–π–ª-requirementstxt)
2. [–§–ê–ô–õ: manage.py](#—Ñ–∞–π–ª-managepy)
3. [–§–ê–ô–õ: config/settings.py](#—Ñ–∞–π–ª-configsettingspy)
4. [–§–ê–ô–õ: bot/models.py](#—Ñ–∞–π–ª-botmodelspy)
5. [–§–ê–ô–õ: bot/telegram_bot.py](#—Ñ–∞–π–ª-bottelegram_botpy)

---

---

# –§–ê–ô–õ: requirements.txt

**–ß—Ç–æ —ç—Ç–æ:** –§–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:** –ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç - –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏—Å–∫–∞—Ç—å –∏—Ö –≤—Ä—É—á–Ω—É—é, –ø–∏—à—É—Ç:
```bash
pip install -r requirements.txt
```

–ò –≤—Å—ë —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## –°—Ç—Ä–æ–∫–∞ 1: `asgiref==3.11.1`

```
asgiref==3.11.1
```

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º –≤ Django.

**–ü–æ–Ω–∏–º–∞–Ω–∏–µ:**
- **ASGI** = "Asynchronous Server Gateway Interface"
- –≠—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç Django —Ä–∞–±–æ—Ç–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ = –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è

**–í–µ—Ä—Å–∏—è:** `3.11.1` - —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é - –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è.

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë –≤–Ω—É—Ç—Ä–∏, –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –µ—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç.

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–∞:** –ë–µ–∑ –Ω–µ—ë Django –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è (–±—É–¥–µ—Ç –æ—à–∏–±–∫–∞).

---

## –°—Ç—Ä–æ–∫–∞ 2-3: `certifi==2026.1.4` –∏ `charset-normalizer==3.4.4`

```
certifi==2026.1.4
charset-normalizer==3.4.4
```

**certifi:**
- –≠—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã SSL/TLS –¥–ª—è HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ö–æ–≥–¥–∞ –º—ã –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ Telegram —Å–µ—Ä–≤–µ—Ä–∞–º - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä Telegram, –∞ –Ω–µ –ø–æ–¥–¥–µ–ª–∫–∞
- certifi —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**charset-normalizer:**
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ (–∫–æ–¥–∏—Ä–æ–≤–æ–∫)
- –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–∫–∞—Ö (UTF-8, Windows-1251 –∏ —Ç.–¥.)
- –≠—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ª—é–±—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** –ö–æ–≥–¥–∞ –º—ã –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ Telegram API –∏ –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ - –æ–Ω–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–∫–∞—Ö. –≠—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏—Ö –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç.

---

## –°—Ç—Ä–æ–∫–∞ 4: `Django==6.0.2`

```
Django==6.0.2
```

**–ß—Ç–æ —ç—Ç–æ:** –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Python.

**–ß—Ç–æ –æ–Ω –¥–∞–µ—Ç:**
- ORM (Django ORM) - —Ä–∞–±–æ—Ç–∞ —Å –ë–î —á–µ—Ä–µ–∑ Python –∫–ª–∞—Å—Å—ã
- Admin –ø–∞–Ω–µ–ª—å - –∞–¥–º–∏–Ω–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î
- Middleware - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–∞—Ä—à—Ä—É—Ç—ã (URLs) - mapping URL –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ:**
```python
from django.db import models  # ORM
Student = models.Model  # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
```

**–í–µ—Ä—Å–∏—è:** 6.0.2 - —ç—Ç–æ Django 6.0, patch –≤–µ—Ä—Å–∏—è 2

---

## –°—Ç—Ä–æ–∫–∞ 5: `gunicorn==25.1.0`

```
gunicorn==25.1.0
```

**–ß—Ç–æ —ç—Ç–æ:** WSGI —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü–æ–Ω–∏–º–∞–Ω–∏–µ:**
- –≠—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–ª—É—à–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å - gunicorn –≤—ã–∑—ã–≤–∞–µ—Ç Django
- Django –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
- gunicorn –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
–ö–õ–ò–ï–ù–¢                  GUNICORN              DJANGO
  ‚îÇ                       ‚îÇ                    ‚îÇ
  ‚îú‚îÄ HTTP –∑–∞–ø—Ä–æ—Å ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ                    ‚îÇ
  ‚îÇ                       ‚îú‚îÄ –í—ã–∑—ã–≤–∞–µ—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ
  ‚îÇ                       ‚îÇ                    ‚îú‚îÄ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
  ‚îÇ                       ‚îÇ                    ‚îÇ
  ‚îÇ                       ‚îÇ ‚Üê‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ ‚Üê‚îÄ HTTP –æ—Ç–≤–µ—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                    ‚îÇ
```

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:** –ë–µ–∑ gunicorn –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ (`python manage.py runserver`). –î–ª—è production —Å–µ—Ä–≤–µ—Ä–∞ –Ω—É–∂–µ–Ω gunicorn.

---

## –°—Ç—Ä–æ–∫–∞ 6: `idna==3.11`

```
idna==3.11
```

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –¥–æ–º–µ–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä:**
```
–û–±—ã—á–Ω–æ–µ –∏–º—è: example.com
–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ: –º–∏—Ä.—Ä—Ñ (–Ω–∞ —Ä—É—Å—Å–∫–æ–º!)

IDNA –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –º–∏—Ä.—Ä—Ñ ‚Üí xn--mir-tba.xn--p1ai
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** –ö–æ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ Telegram API - –∏—Å–ø–æ–ª—å–∑—É–µ–º api.telegram.org. –ï—Å–ª–∏ –±—ã —Å–µ—Ä–≤–µ—Ä –±—ã–ª –Ω–∞ —Ä—É—Å—Å–∫–æ–º –¥–æ–º–µ–Ω–µ - IDNA –±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–ª –µ–≥–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

---

## –°—Ç—Ä–æ–∫–∞ 7: `packaging==26.0`

```
packaging==26.0
```

**–ß—Ç–æ —ç—Ç–æ:** –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ä—Å–∏—è–º–∏ –ø–∞–∫–µ—Ç–æ–≤.

**–ü—Ä–∏–º–µ—Ä:**
```python
from packaging import version
v1 = version.parse("1.9")
v2 = version.parse("1.10")
v1 < v2  # True
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –ù–∞–º –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–µ–Ω –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø.

---

## –°—Ç—Ä–æ–∫–∞ 8: `psycopg2-binary==2.9.11`

```
psycopg2-binary==2.9.11
```

**–ß—Ç–æ —ç—Ç–æ:** –î—Ä–∞–π–≤–µ—Ä –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Python –∫ PostgreSQL.

**–ü–æ–Ω–∏–º–∞–Ω–∏–µ:**
```
PYTHON –ö–û–î (Django ORM)
        ‚îÇ
        ‚îú‚îÄ Student.objects.filter(grade=10)
        ‚îÇ
        ‚ñº
  psycopg2 (–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ SQL)
        ‚îÇ
        ‚îú‚îÄ SELECT * FROM student WHERE grade=10
        ‚îÇ
        ‚ñº
   PostgreSQL –ë–î
        ‚îÇ
        ‚îî‚îÄ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

**–ü–æ—á–µ–º—É psycopg2:** PostgreSQL —ç—Ç–æ SQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. Django —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –ë–î (SQLite, MySQL, PostgreSQL –∏ —Ç.–¥.). –î–ª—è –∫–∞–∂–¥–æ–π –Ω—É–∂–µ–Ω —Å–≤–æ–π –¥—Ä–∞–π–≤–µ—Ä. –î–ª—è PostgreSQL - psycopg2.

**–í settings.py —ç—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è:**
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',  # –ò—Å–ø–æ–ª—å–∑—É–µ–º PostgreSQL
        'NAME': 'school_schedule_db',
    }
}
```

---

## –°—Ç—Ä–æ–∫–∞ 9: `pyTelegramBotAPI==4.31.0`

```
pyTelegramBotAPI==4.31.0
```

**–≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞!**

**–ß—Ç–æ —ç—Ç–æ:** Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram Bot API.

**–ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç:**
```python
import telebot

TOKEN = '...'
bot = telebot.TeleBot(TOKEN)

# –¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º:
bot.send_message(chat_id, text)  # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
bot.polling()  # –°–ª—É—à–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
bot.register_message_handler(func)  # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

@bot.message_handler(commands=['start'])  # –≠—Ç–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏–∑ pyTelegramBotAPI
def start(message):
    ...
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏:**
```
Telegram —Å–µ—Ä–≤–µ—Ä
    ‚îÇ
    ‚îú‚îÄ –ü–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    ‚îÇ
    ‚îú‚îÄ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å –∫ –Ω–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É:
    ‚îÇ  POST https://–Ω–∞—à_—Å–µ—Ä–≤–µ—Ä/...
    ‚îÇ  {
    ‚îÇ    "message": {
    ‚îÇ      "chat_id": 123,
    ‚îÇ      "text": "–ü—Ä–∏–≤–µ—Ç"
    ‚îÇ    }
    ‚îÇ  }
    ‚îÇ
    ‚ñº
pyTelegramBotAPI (–ø–æ–ª—É—á–∞–µ—Ç JSON)
    ‚îÇ
    ‚îú‚îÄ –ü–∞—Ä—Å–∏—Ç JSON
    ‚îÇ
    ‚îú‚îÄ –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç Message
    ‚îÇ  message.text = "–ü—Ä–∏–≤–µ—Ç"
    ‚îÇ  message.chat_id = 123
    ‚îÇ
    ‚îú‚îÄ –í—ã–∑—ã–≤–∞–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:
    ‚îÇ  start(message)
    ‚îÇ
    ‚ñº
–ù–∞—à –∫–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
```

---

## –°—Ç—Ä–æ–∫–∞ 10: `python-dotenv==1.2.1`

```
python-dotenv==1.2.1
```

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–º `.env`.

**–ü–æ–Ω–∏–º–∞–Ω–∏–µ:**
```
–í –∫–æ–¥–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!

‚ùå –ü–õ–û–•–û:
PASSWORD = "admin123"  # –í –∫–æ–¥–µ –Ω–∞–ø–∏—Å–∞–Ω –ø–∞—Ä–æ–ª—å!

‚úÖ –•–û–†–û–®–û:
# –§–∞–π–ª .env (–≤ .gitignore, –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ GitHub):
PASSWORD=admin123

# –í –∫–æ–¥–µ:
from dotenv import load_dotenv
import os
load_dotenv()
PASSWORD = os.environ.get('PASSWORD')  # –ü–æ–ª—É—á–∞–µ–º –∏–∑ .env
```

**–í –Ω–∞—à–µ–º –∫–æ–¥–µ (config/settings.py):**
```python
from dotenv import load_dotenv
load_dotenv()

TOKEN = os.environ.get('BOT_TOKEN')  # –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ .env
SECRET_KEY = os.environ.get('SECRET_KEY')  # –ü–æ–ª—É—á–∞–µ–º –∫–ª—é—á –∏–∑ .env
```

**–§–∞–π–ª .env –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**
```
BOT_TOKEN=8540461229:AAEY64b5fB0DkOoP96yS6DE9b4MHHmf0JIQ
SECRET_KEY=django-insecure-...
DB_NAME=school_schedule_db
DB_USER=postgres
DB_PASSWORD=postgres123
```

**–ö–†–ò–¢–ò–ß–ù–û:** –§–∞–π–ª `.env` –ù–ò–ö–û–ì–î–ê –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞ GitHub! –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ!

---

## –°—Ç—Ä–æ–∫–∞ 11: `pytz==2025.2`

```
pytz==2025.2
```

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä:**
```python
import pytz
from datetime import datetime

# –ë–µ–∑ pytz (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
now = datetime.now()  # –ö–∞–∫–æ–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å? –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ!

# –° pytz (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
MSK_TZ = pytz.timezone('Europe/Moscow')
now = datetime.now(MSK_TZ)  # –ú–û–°–ö–û–í–°–ö–û–ï –≤—Ä–µ–º—è!
```

**–í –Ω–∞—à–µ–º –∫–æ–¥–µ:**
```python
# telegram_bot.py —Å—Ç—Ä–æ–∫–∞ 13
MSK_TZ = pytz.timezone('Europe/Moscow')

# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ:
now = get_current_lesson_time()  # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç datetime.now(MSK_TZ)
```

**–ü–æ—á–µ–º—É –Ω—É–∂–µ–Ω:**
- –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ (–°–®–ê, –ï–≤—Ä–æ–ø–∞, –ê–∑–∏—è)
- –ù–æ —Ä–∞—Å—Å—ã–ª–∫–∞ –≤ 6:30 –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ 6:30 –ú–û–°–ö–û–í–°–ö–û–ì–û –≤—Ä–µ–º–µ–Ω–∏
- pytz –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å

---

## –°—Ç—Ä–æ–∫–∞ 12: `requests==2.32.5`

```
requests==2.32.5
```

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ Python –∫–æ–¥–∞.

**–ü—Ä–∏–º–µ—Ä:**
```python
import requests

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å GET –∑–∞–ø—Ä–æ—Å
response = requests.get('https://api.telegram.org/...')
data = response.json()

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å POST –∑–∞–ø—Ä–æ—Å
response = requests.post('https://...', json={'key': 'value'})
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ:**
- pyTelegramBotAPI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç requests –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è
- –ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º `bot.send_message()` - –≤–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è requests –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–∞

**–ü–æ–Ω–∏–º–∞–Ω–∏–µ:**
```
bot.send_message(chat_id, text)
    ‚îÇ
    ‚ñº (–≤–Ω—É—Ç—Ä–∏ pyTelegramBotAPI)
requests.post('https://api.telegram.org/botTOKEN/sendMessage', 
    json={'chat_id': chat_id, 'text': text}
)
    ‚îÇ
    ‚ñº (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä Telegram)
```

---

## –°—Ç—Ä–æ–∫–∞ 13: `sqlparse==0.5.5`

```
sqlparse==0.5.5
```

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü—Ä–∏–º–µ—Ä:**
```python
import sqlparse

sql = "select * from users where age > 18"
formatted = sqlparse.format(sql, reindent=True, keyword_case='upper')
# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# SELECT *
# FROM users
# WHERE age > 18
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ, —á—Ç–æ–±—ã –∫—Ä–∞—Å–∏–≤–æ –≤—ã–≤–æ–¥–∏—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ–Ω—Å–æ–ª–∏.

---

## –°—Ç—Ä–æ–∫–∞ 14: `urllib3==2.6.3`

```
urllib3==2.6.3
```

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTTP/HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏.

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- requests –∏—Å–ø–æ–ª—å–∑—É–µ—Ç urllib3 –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è
- –ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º HTTP –∑–∞–ø—Ä–æ—Å - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è urllib3

**–¶–µ–ø–æ—á–∫–∞:**
```
bot.send_message()
    ‚ñº
pyTelegramBotAPI
    ‚ñº
requests
    ‚ñº
urllib3 (—Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º)
    ‚ñº
Telegram —Å–µ—Ä–≤–µ—Ä
```

---

## –ò–¢–û–ì requirements.txt

–í—Å–µ —ç—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ:

```
pyTelegramBotAPI (–æ—Å–Ω–æ–≤–Ω–∞—è –¥–ª—è –±–æ—Ç–∞)
    ‚îú‚îÄ requests (–æ—Ç–ø—Ä–∞–≤–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤)
    ‚îÇ   ‚îú‚îÄ urllib3 (—Ä–µ–∞–ª—å–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)
    ‚îÇ   ‚îú‚îÄ certifi (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã SSL)
    ‚îÇ   ‚îî‚îÄ charset-normalizer (–∫–æ–¥–∏—Ä–æ–≤–∫–∏)
    ‚îÇ
    ‚îú‚îÄ pytz (—á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞)
    ‚îÇ
Django (—Ä–∞–±–æ—Ç–∞ —Å –ë–î –∏ —Å–µ—Ä–≤–µ—Ä–æ–º)
    ‚îú‚îÄ psycopg2 (PostgreSQL –¥—Ä–∞–π–≤–µ—Ä)
    ‚îú‚îÄ asgiref (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å)
    ‚îú‚îÄ sqlparse (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SQL)
    ‚îÇ
    ‚îú‚îÄ gunicorn (WSGI —Å–µ—Ä–≤–µ—Ä)
    ‚îÇ
    ‚îî‚îÄ python-dotenv (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

packaging (—É—Ç–∏–ª–∏—Ç—ã –≤–µ—Ä—Å–∏–π)
idna (–∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã)
```

---

---

# –§–ê–ô–õ: manage.py

**–ü–æ–ª–Ω—ã–π –∫–æ–¥:**
```python
#!/usr/bin/env python
import os
import sys


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()
```

---

## –°—Ç—Ä–æ–∫–∞ 1: `#!/usr/bin/env python`

```
#!/usr/bin/env python
```

**–ß—Ç–æ —ç—Ç–æ:** Shebang (—à–µ–±–∞–Ω–≥) - —Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ —ç—Ç–æ Python —Å–∫—Ä–∏–ø—Ç.

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
```bash
# –ù–∞ Linux/Mac –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é:
./manage.py runserver

# –ë–µ–∑ —à–µ–±–∞–Ω–≥–∞ –ø—Ä–∏—à–ª–æ—Å—å –±—ã –ø–∏—Å–∞—Ç—å:
python manage.py runserver
```

**–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- `#!` = "—ç—Ç–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä"
- `/usr/bin/env python` = "–Ω–∞–π–¥–∏ Python –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –∑–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ"

---

## –°—Ç—Ä–æ–∫–∏ 2-4: –ò–º–ø–æ—Ä—Ç—ã

```python
import os      # –†–∞–±–æ—Ç–∞ —Å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
import sys     # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (argv, exit –∏ —Ç.–¥.)
```

**`import os`:**
```python
os.environ.setdefault(...)  # –°—Ç—Ä–æ–∫–∞ 7 - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
os.environ.get(...)          # –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

**`import sys`:**
```python
sys.argv  # –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
# –ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ –ø–∏—à–µ–º "python manage.py runserver"
# –¢–æ sys.argv = ['manage.py', 'runserver']
```

---

## –°—Ç—Ä–æ–∫–∞ 7: `os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')`

```python
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DJANGO_SETTINGS_MODULE` –Ω–∞ `config.settings`.

**–ü–æ–Ω–∏–º–∞–Ω–∏–µ:**

–ö–æ–≥–¥–∞ Django –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è - –æ–Ω –∏—â–µ—Ç —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏. –û—Ç–∫—É–¥–∞ –æ–Ω –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

```
Django —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è DJANGO_SETTINGS_MODULE
    ‚îú‚îÄ –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë
    ‚îî‚îÄ –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'config.settings'
```

**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:**

–í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å –ø–∞–ø–∫–∞ `config`, –∏ –≤ –Ω–µ–π —Ñ–∞–π–ª `settings.py`. Django –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—É—Ç—å –¥–æ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.

```
project/
‚îú‚îÄ config/
‚îÇ  ‚îî‚îÄ settings.py  ‚Üê Django –∏—â–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ manage.py       ‚Üê –≠—Ç–æ—Ç —Ñ–∞–π–ª –≥–æ–≤–æ—Ä–∏—Ç Django, –≥–¥–µ –∏—Å–∫–∞—Ç—å
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
```python
# –í Django –∫–æ–¥–µ:
from django.conf import settings

# Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç config.settings –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ
```

---

## –°—Ç—Ä–æ–∫–∏ 9-14: Try-Except –±–ª–æ–∫

```python
try:
    from django.core.management import execute_from_command_line
except ImportError as exc:
    raise ImportError(
        "Couldn't import Django. Are you sure it's installed and "
        "available on your PYTHONPATH environment variable? Did you "
        "forget to activate a virtual environment?"
    ) from exc
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**

–ü—ã—Ç–∞–µ—Ç—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Django. –ï—Å–ª–∏ Django –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

**–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä:**

```python
try:
    # –ü—ã—Ç–∞–µ–º—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
    from django.core.management import execute_from_command_line
    # –ï—Å–ª–∏ Django —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
    # –ï—Å–ª–∏ Django –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - –±—É–¥–µ—Ç ImportError

except ImportError as exc:
    # –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ ImportError - –≤—Ö–æ–¥–∏–º —Å—é–¥–∞
    raise ImportError(
        "Couldn't import Django. Are you sure it's installed..."
    ) from exc
    # –í—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–æ–≤—É—é –æ—à–∏–±–∫—É —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
```

**–ü—Ä–∏–º–µ—Ä:**

```bash
# –ï—Å–ª–∏ Django –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
$ python manage.py runserver

# –í—ã–≤–æ–¥ –æ—à–∏–±–∫–∏:
ImportError: Couldn't import Django. Are you sure it's installed and 
available on your PYTHONPATH environment variable? Did you 
forget to activate a virtual environment?

# ‚úÖ –í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ "ImportError" - –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!
```

---

## –°—Ç—Ä–æ–∫–∞ 16: `execute_from_command_line(sys.argv)`

```python
execute_from_command_line(sys.argv)
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**

–ü–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–º–∞–Ω–¥–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ Django –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**–ü—Ä–∏–º–µ—Ä:**

```bash
$ python manage.py runserver

# sys.argv = ['manage.py', 'runserver']
# execute_from_command_line(['manage.py', 'runserver'])
# Django –≤–∏–¥–∏—Ç 'runserver' –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä

$ python manage.py migrate

# sys.argv = ['manage.py', 'migrate']
# Django –≤–∏–¥–∏—Ç 'migrate' –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
```

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥:**

```bash
python manage.py runserver          # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python manage.py migrate            # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
python manage.py makemigrations     # –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py shell              # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å
python manage.py createsuperuser    # –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∞
python manage.py collectstatic      # –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
```

---

## –°—Ç—Ä–æ–∫–∏ 19-20: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

```python
if __name__ == '__main__':
    main()
```

**–ß—Ç–æ —ç—Ç–æ:**

–£—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç `main()` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ñ–∞–π–ª –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é.

**–ü—Ä–∏–º–µ—Ä:**

```python
# –§–∞–π–ª 1: manage.py
if __name__ == '__main__':
    main()  # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –µ—Å–ª–∏: python manage.py

# –§–∞–π–ª 2: –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç manage.py
from manage import main

# __name__ != '__main__' ‚Üí main() –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –Ω—É–∂–Ω–æ:**

```python
# –ë–µ–∑ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–∞:
main()  # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –í–°–ï –í–†–ï–ú–Ø, –¥–∞–∂–µ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

# –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π:
if __name__ == '__main__':
    main()  # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ
```

---

## –ò–¢–û–ì manage.py

–≠—Ç–æ—Ç —Ñ–∞–π–ª —ç—Ç–æ "–≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞" –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ Django:

```
$ python manage.py [–∫–æ–º–∞–Ω–¥–∞]
    ‚îÇ
    ‚ñº
manage.py –ø–æ–ª—É—á–∞–µ—Ç [–∫–æ–º–∞–Ω–¥—É]
    ‚îÇ
    ‚îú‚îÄ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç DJANGO_SETTINGS_MODULE
    ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ Django —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    ‚îú‚îÄ –í—ã–∑—ã–≤–∞–µ—Ç execute_from_command_line
    ‚îÇ
    ‚ñº
Django –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É
```

---

---

# –§–ê–ô–õ: config/settings.py

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ–≥–æ Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.**

---

## –°—Ç—Ä–æ–∫–∏ 1-5: –ò–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–≥—Ä—É–∑–∫–∞ .env

```python
import os
from pathlib import Path
from dotenv import load_dotenv

load_dotenv()
```

**`import os`:** –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø—É—Ç—è–º–∏ —Ñ–∞–π–ª–æ–≤.

**`from pathlib import Path`:** –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏ —Ñ–∞–π–ª–æ–≤ –≤ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º –≤–∏–¥–µ.

```python
# –ë–µ–∑ pathlib (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
path = "C:\\Users\\user\\project"  # –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Windows!

# –° pathlib (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
path = Path(__file__).resolve().parent.parent  # –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ!
```

**`from dotenv import load_dotenv`:** –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ `.env`.

**`load_dotenv()`:** –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª `.env` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

```
–§–∞–π–ª .env:
BOT_TOKEN=8540461229:...
SECRET_KEY=...

load_dotenv() –ø—Ä–æ—á–∏—Ç–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:
os.environ['BOT_TOKEN'] = '8540461229:...'
os.environ['SECRET_KEY'] = '...'
```

---

## –°—Ç—Ä–æ–∫–∞ 7: `BASE_DIR = Path(__file__).resolve().parent.parent`

```python
BASE_DIR = Path(__file__).resolve().parent.parent
```

**–ß—Ç–æ —ç—Ç–æ:**

–ü–æ–ª—É—á–∏—Ç—å –ø—É—Ç—å –∫ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞.

**–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä:**

```
__file__                               ‚Üí /home/user/project/config/settings.py
Path(__file__)                         ‚Üí –ø—É—Ç—å –∫–∞–∫ –æ–±—ä–µ–∫—Ç Path
Path(__file__).resolve()               ‚Üí –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
Path(__file__).resolve().parent        ‚Üí /home/user/project/config
Path(__file__).resolve().parent.parent ‚Üí /home/user/project  (BASE_DIR)
```

**–í–∏–∑—É–∞–ª—å–Ω–æ:**
```
project/                    ‚Üê BASE_DIR (—Ä–æ–¥–∏—Ç–µ–ª—å —Ä–æ–¥–∏—Ç–µ–ª—è)
‚îú‚îÄ config/                  ‚Üê .parent (—Ä–æ–¥–∏—Ç–µ–ª—å)
‚îÇ  ‚îî‚îÄ settings.py           ‚Üê __file__ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îú‚îÄ bot/
‚îú‚îÄ manage.py
‚îî‚îÄ requirements.txt
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
```python
STATIC_ROOT = BASE_DIR / 'staticfiles'  # –ü—É—Ç—å –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º
MEDIA_ROOT = BASE_DIR / 'media'         # –ü—É—Ç—å –∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º
```

---

## –°—Ç—Ä–æ–∫–∞ 9: `SECRET_KEY = os.environ.get('SECRET_KEY', 'django-insecure-change-me-in-production')`

```python
SECRET_KEY = os.environ.get('SECRET_KEY', 'django-insecure-change-me-in-production')
```

**–ß—Ç–æ —ç—Ç–æ:**

–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```python
os.environ.get('SECRET_KEY', 'default_value')
‚îÇ
‚îú‚îÄ –ü–æ–ø—Ä–æ–±—É–π –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é SECRET_KEY –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env —Ñ–∞–π–ª)
‚îú‚îÄ –ï—Å–ª–∏ –Ω–µ—Ç –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
‚îî‚îÄ –í–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
```

**–§–∞–π–ª .env:**
```
SECRET_KEY=my-super-secret-key-12345
```

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π (cookies)
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- CSRF —Ç–æ–∫–µ–Ω—ã

**–ö–†–ò–¢–ò–ß–ù–û:**
```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
SECRET_KEY = 'my-secret-key-visible-in-github'

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
# 1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
from django.core.management.utils import get_random_secret_key
print(get_random_secret_key())  # –°–∫–æ–ø–∏—Ä—É–µ–º –≤—ã–≤–æ–¥

# 2. –î–æ–±–∞–≤–∏–º –≤ .env —Ñ–∞–π–ª:
# SECRET_KEY=wf1$y@3^kr...

# 3. –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
SECRET_KEY = os.environ.get('SECRET_KEY')
```

---

## –°—Ç—Ä–æ–∫–∞ 11: `DEBUG = os.environ.get('DEBUG', 'True') == 'True'`

```python
DEBUG = os.environ.get('DEBUG', 'True') == 'True'
```

**–ß—Ç–æ —ç—Ç–æ:**

–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (Debug Mode).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```python
value = os.environ.get('DEBUG', 'True')  # –ü–æ–ª—É—á–∏—Ç—å –∏–∑ .env –∏–ª–∏ 'True'
DEBUG = (value == 'True')                # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –±—É–ª–µ–≤–æ

# –ü—Ä–∏–º–µ—Ä—ã:
# –ï—Å–ª–∏ –≤ .env: DEBUG=True  ‚Üí value='True'  ‚Üí DEBUG = ('True' == 'True') ‚Üí True
# –ï—Å–ª–∏ –≤ .env: DEBUG=False ‚Üí value='False' ‚Üí DEBUG = ('False' == 'True') ‚Üí False
# –ï—Å–ª–∏ –Ω–µ—Ç –≤ .env ‚Üí value='True' (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Üí DEBUG = True
```

**–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç DEBUG=True:**

```python
if DEBUG:
    # –í–ö–õ –í –†–ï–ñ–ò–ú–ï –†–ê–ó–†–ê–ë–û–¢–ö–ò:
    ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
    ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º SQL –∑–∞–ø—Ä–æ—Å—ã
    ‚úÖ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–¥ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤
    ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è .env —Ñ–∞–π–ª
    
if not DEBUG:
    # –í–ö–õ –í –†–ï–ñ–ò–ú–ï PRODUCTION:
    ‚úÖ –°–∫—Ä—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º 500 —Å—Ç—Ä–∞–Ω–∏—Ü—É)
    ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è HTTPS
    ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è SECRET_KEY –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
    ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ ALLOWED_HOSTS
```

---

## –°—Ç—Ä–æ–∫–∞ 13: `ALLOWED_HOSTS = ['localhost', '127.0.0.1']`

```python
ALLOWED_HOSTS = ['localhost', '127.0.0.1']
```

**–ß—Ç–æ —ç—Ç–æ:**

–°–ø–∏—Å–æ–∫ —Ö–æ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:**

–ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ Host Header Injection.

```
–ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç:
GET / HTTP/1.1
Host: attacker.com

Django –ø—Ä–æ–≤–µ—Ä–∏—Ç: attacker.com –≤ ALLOWED_HOSTS?
–û—Ç–≤–µ—Ç: –ù–µ—Ç ‚Üí –æ—Ç–∫–ª–æ–Ω–∏–º –∑–∞–ø—Ä–æ—Å!

–ó–∞–ø—Ä–æ—Å –∏–∑ localhost:
Host: localhost

Django –ø—Ä–æ–≤–µ—Ä–∏—Ç: localhost –≤ ALLOWED_HOSTS?
–û—Ç–≤–µ—Ç: –î–∞ ‚Üí –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –∑–∞–ø—Ä–æ—Å!
```

**–î–ª—è production:**

```python
ALLOWED_HOSTS = ['example.com', 'www.example.com', 'api.example.com']
```

---

## –°—Ç—Ä–æ–∫–∏ 15-23: INSTALLED_APPS

```python
INSTALLED_APPS = [
    'bot',
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]
```

**–ß—Ç–æ —ç—Ç–æ:**

–°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Django.

**–†–∞–∑–±–æ—Ä –∫–∞–∂–¥–æ–≥–æ:**

```python
'bot'  # –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (bot folder)

# Django –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
'django.contrib.admin'         # –ê–¥–º–∏–Ω–∫–∞ Django
'django.contrib.auth'          # –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
'django.contrib.contenttypes'  # –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
'django.contrib.sessions'      # –°–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π (cookies)
'django.contrib.messages'      # –°–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (flash messages)
'django.contrib.staticfiles'   # –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ (CSS, JS)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏:**

```python
# –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ–º 'bot' –≤ INSTALLED_APPS:

1. Django –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞–ø–∫—É bot/
2. –ò—â–µ—Ç —Ñ–∞–π–ª apps.py
3. –ò—â–µ—Ç class BotConfig(AppConfig)
4. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª–∏ –∏–∑ models.py
5. –°–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î

# –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ INSTALLED_APPS:
Student.objects.all()  # –û—à–∏–±–∫–∞! –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞!
```

---

## –°—Ç—Ä–æ–∫–∏ 25-33: MIDDLEWARE

```python
MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]
```

**–ß—Ç–æ —ç—Ç–æ:**

Middleware - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ö–ê–ñ–î–´–ô –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```
–ó–ê–ü–†–û–° –ü–†–ò–•–û–î–ò–¢
    ‚îÇ
    ‚ñº
SecurityMiddleware       (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
    ‚îÇ
    ‚ñº
SessionMiddleware        (–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–µ—Å—Å–∏—é)
    ‚îÇ
    ‚ñº
CommonMiddleware         (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—â–µ–≥–æ)
    ‚îÇ
    ‚ñº
CsrfViewMiddleware       (–∑–∞—â–∏—Ç–∞ –æ—Ç CSRF)
    ‚îÇ
    ‚ñº
AuthenticationMiddleware (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    ‚îÇ
    ‚ñº
MessageMiddleware        (–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è)
    ‚îÇ
    ‚ñº
XFrameOptionsMiddleware  (–∑–∞—â–∏—Ç–∞ –æ—Ç –∫–ª–∏–∫–¥–∂–µ–∫–∏–Ω–≥–∞)
    ‚îÇ
    ‚ñº
–ù–ê–®–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï (view —Ñ—É–Ω–∫—Ü–∏—è)
    ‚îÇ
    ‚ñº
(–æ—Ç–≤–µ—Ç –∏–¥—ë—Ç –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ)
    ‚îÇ
    ‚ñº
XFrameOptionsMiddleware  (–¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏)
    ‚îÇ
    ‚ñº
...
    ‚îÇ
    ‚ñº
–û–¢–í–ï–¢ –û–¢–ü–†–ê–í–õ–Ø–ï–¢–°–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Æ
```

**–î–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ,** –ø–æ—Ç–æ–º—É —á—Ç–æ –±–æ—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ù–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è Django.

---

## –°—Ç—Ä–æ–∫–∞ 35: `ROOT_URLCONF = 'config.urls'`

```python
ROOT_URLCONF = 'config.urls'
```

**–ß—Ç–æ —ç—Ç–æ:**

–§–∞–π–ª, –≥–¥–µ –æ–ø–∏—Å–∞–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã (URL patterns).

**–í –Ω–∞—à–µ–º –∫–æ–¥–µ (config/urls.py):**

```python
from django.contrib import admin
from django.urls import path

urlpatterns = [
    path('admin/', admin.site.urls),
]
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–¥—ë—Ç –Ω–∞ http://localhost:8000/admin/
    ‚îÇ
    ‚ñº
Django –∏—â–µ—Ç –≤ ROOT_URLCONF (config.urls)
    ‚îÇ
    ‚îú‚îÄ path('admin/', admin.site.urls)  ‚Üê —Å–æ–≤–ø–∞–¥–∞–µ—Ç!
    ‚îÇ
    ‚ñº
–í—ã–ø–æ–ª–Ω—è–µ—Ç admin.site.urls
    ‚îÇ
    ‚ñº
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥–º–∏–Ω–∫—É Django
```

---

## –°—Ç—Ä–æ–∫–∏ 37-51: TEMPLATES

```python
TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
```

**–ß—Ç–æ —ç—Ç–æ:**

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ (HTML —Ñ–∞–π–ª–æ–≤).

**–†–∞–∑–±–æ—Ä:**

```python
'BACKEND': 'django.template.backends.django.DjangoTemplates'
# –ö–∞–∫–æ–π –¥–≤–∏–∂–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (Django Template Language)

'DIRS': []
# –ü–∞–ø–∫–∏ —Å —à–∞–±–ª–æ–Ω–∞–º–∏ (–ø—É—Å—Ç–æ = –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞–ø–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö)

'APP_DIRS': True
# –ò—Å–∫–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –≤ –ø–∞–ø–∫–µ templates/ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

'context_processors': [...]
# –§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —à–∞–±–ª–æ–Ω—ã
```

**–î–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–±–æ—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∞–±–ª–æ–Ω—ã HTML).

---

## –°—Ç—Ä–æ–∫–∞ 53: `WSGI_APPLICATION = 'config.wsgi.application'`

```python
WSGI_APPLICATION = 'config.wsgi.application'
```

**–ß—Ç–æ —ç—Ç–æ:**

WSGI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å gunicorn.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```
gunicorn (–ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä)
    ‚îÇ
    ‚îú‚îÄ config.wsgi.application
    ‚îÇ
    ‚ñº
Django –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
```

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `python manage.py runserver` (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä).

**–î–ª—è production:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è gunicorn —Å —ç—Ç–∏–º WSGI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

---

## –°—Ç—Ä–æ–∫–∏ 55-64: DATABASES

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': os.environ.get('DB_NAME', 'school_schedule_db'),
        'USER': os.environ.get('DB_USER', 'postgres'),
        'PASSWORD': os.environ.get('DB_PASSWORD', 'postgres'),
        'HOST': os.environ.get('DB_HOST', 'localhost'),
        'PORT': os.environ.get('DB_PORT', '5432'),
    }
}
```

**–ß—Ç–æ —ç—Ç–æ:**

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```python
'ENGINE': 'django.db.backends.postgresql'
# –ò—Å–ø–æ–ª—å–∑—É–µ–º PostgreSQL (–º–æ–≥—É—Ç –±—ã—Ç—å MySQL, SQLite, Oracle –∏ —Ç.–¥.)

'NAME': 'school_schedule_db'
# –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–±–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ PostgreSQL)

'USER': 'postgres'
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å PostgreSQL

'PASSWORD': 'postgres'
# –ü–∞—Ä–æ–ª—å

'HOST': 'localhost'
# –ù–∞ –∫–∞–∫–æ–º —Å–µ—Ä–≤–µ—Ä–µ –ë–î (localhost = –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä)

'PORT': '5432'
# –ù–∞ –∫–∞–∫–æ–º –ø–æ—Ä—Ç—É —Å–ª—É—à–∞–µ—Ç PostgreSQL
```

**–ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

```
Python –∫–æ–¥:
Student.objects.filter(grade=10)
    ‚îÇ
    ‚ñº
Django ORM (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç psycopg2)
    ‚îÇ
    ‚îú‚îÄ –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ SQL:
    ‚îÇ  SELECT * FROM bot_student WHERE grade=10
    ‚îÇ
    ‚ñº
psycopg2 (–¥—Ä–∞–π–≤–µ—Ä PostgreSQL)
    ‚îÇ
    ‚îú‚îÄ –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ë–î:
    ‚îÇ  Host: localhost
    ‚îÇ  Port: 5432
    ‚îÇ  User: postgres
    ‚îÇ  Password: postgres
    ‚îÇ  Database: school_schedule_db
    ‚îÇ
    ‚ñº
PostgreSQL —Å–µ—Ä–≤–µ—Ä
    ‚îÇ
    ‚îú‚îÄ –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL –∑–∞–ø—Ä–æ—Å
    ‚îÇ
    ‚ñº
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

---

## –°—Ç—Ä–æ–∫–∏ 66-71: AUTH_PASSWORD_VALIDATORS

```python
AUTH_PASSWORD_VALIDATORS = [
    {'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'},
    {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'},
    {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'},
    {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'},
]
```

**–ß—Ç–æ —ç—Ç–æ:**

–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ö–∞–∂–¥—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä:**

```python
# UserAttributeSimilarityValidator
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ –ø–æ—Ö–æ–∂ –Ω–∞ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚ùå username='john', password='john123' ‚Üí –æ—à–∏–±–∫–∞!

# MinimumLengthValidator
# –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
‚ùå password='pass' ‚Üí –æ—à–∏–±–∫–∞!
‚úÖ password='password123' ‚Üí –û–ö!

# CommonPasswordValidator
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –ø–∞—Ä–æ–ª–µ–π
‚ùå password='123456' ‚Üí –æ—à–∏–±–∫–∞!

# NumericPasswordValidator
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∑ —Ü–∏—Ñ—Ä
‚ùå password='12345678' ‚Üí –æ—à–∏–±–∫–∞!
```

**–î–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–≤ –±–æ—Ç–µ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).

---

## –°—Ç—Ä–æ–∫–∏ 73-76: –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ —á–∞—Å

```python
LANGUAGE_CODE = 'ru-ru'
TIME_ZONE = 'Europe/Moscow'
USE_I18N = True
USE_TZ = True
```

**–†–∞–∑–±–æ—Ä:**

```python
LANGUAGE_CODE = 'ru-ru'
# –Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - —Ä—É—Å—Å–∫–∏–π

TIME_ZONE = 'Europe/Moscow'
# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å - –ú–æ—Å–∫–≤–∞

USE_I18N = True
# –í–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤)

USE_TZ = True
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã (—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ UTC, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –Ω—É–∂–Ω–æ–º –ø–æ—è—Å–µ)
```

**–í–∞–∂–Ω–æ –¥–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞:**

–í—Å—ë –≤—Ä–µ–º—è –≤ –ë–î —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ UTC, –∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ Europe/Moscow –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º.

---

## –°—Ç—Ä–æ–∫–∏ 78-82: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

```python
STATIC_URL = 'static/'
STATIC_ROOT = BASE_DIR / 'staticfiles'

MEDIA_URL = 'media/'
MEDIA_ROOT = BASE_DIR / 'media'
```

**–ß—Ç–æ —ç—Ç–æ:**

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

**–†–∞–∑–±–æ—Ä:**

```python
# –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS - –Ω–µ –º–µ–Ω—è—é—Ç—Å—è):
STATIC_URL = 'static/'
# URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º: http://localhost:8000/static/

STATIC_ROOT = BASE_DIR / 'staticfiles'
# –ü–∞–ø–∫–∞, –≥–¥–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
# project/staticfiles/

# –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç):
MEDIA_URL = 'media/'
# URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞: http://localhost:8000/media/

MEDIA_ROOT = BASE_DIR / 'media'
# –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: project/media/
```

**–î–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–Ω–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞).

---

## –°—Ç—Ä–æ–∫–∞ 84: `DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'`

```python
DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'
```

**–ß—Ç–æ —ç—Ç–æ:**

–¢–∏–ø –ø–æ–ª—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ ID –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π.

**–†–∞–∑–±–æ—Ä:**

```python
# –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å –±–µ–∑ —è–≤–Ω–æ–≥–æ ID:
class Student(models.Model):
    name = models.CharField(...)
    # ID —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

# BigAutoField –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 64-–±–∏—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞
# –í–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ AutoField (32-–±–∏—Ç–Ω—ã–µ)

# BigAutoField: 0 –¥–æ 9,223,372,036,854,775,807
# AutoField: 0 –¥–æ 2,147,483,647

# BigAutoField –Ω—É–∂–µ–Ω, –µ—Å–ª–∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î
```

---

## –ò–¢–û–ì settings.py

–≠—Ç–æ —Ü–µ–Ω—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```
settings.py (–≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
    ‚îÇ
    ‚îú‚îÄ BASE_DIR (–ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É)
    ‚îú‚îÄ DEBUG (—Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
    ‚îú‚îÄ SECRET_KEY (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
    ‚îú‚îÄ ALLOWED_HOSTS (–∫–∞–∫–∏–µ —Ö–æ—Å—Ç—ã –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è)
    ‚îú‚îÄ INSTALLED_APPS (–∫–∞–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    ‚îú‚îÄ DATABASES (–∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î)
    ‚îú‚îÄ TIME_ZONE (—á–∞—Å–æ–≤–æ–π –ø–æ—è—Å)
    ‚îî‚îÄ ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

---

---

# –§–ê–ô–õ: bot/models.py

**–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü –≤ –ë–î).**

---

## –ü–æ–ª–Ω—ã–π –∫–æ–¥:

```python
from django.db import models


class AdminSettings(models.Model):
    contact = models.CharField(max_length=100, default="@Abumalik08", verbose_name="–ö–æ–Ω—Ç–∞–∫—Ç")
    
    class Meta:
        verbose_name = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
        verbose_name_plural = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
    
    def __str__(self):
        return f"–ö–æ–Ω—Ç–∞–∫—Ç: {self.contact}"


class Student(models.Model):
    telegram_id = models.CharField(max_length=50, unique=True)
    name = models.CharField(max_length=100)
    
    GRADE_CHOICES = [(i, str(i)) for i in range(1, 12)]
    LETTER_CHOICES = [('–ê', '–ê'), ('–ë', '–ë'), ('–í', '–í'), ('–ì', '–ì')]
    
    grade = models.IntegerField(choices=GRADE_CHOICES, null=True, blank=True, verbose_name="–ö–ª–∞—Å—Å")
    letter = models.CharField(max_length=1, choices=LETTER_CHOICES, null=True, blank=True, verbose_name="–ë—É–∫–≤–∞")
    use_global = models.BooleanField(default=True, verbose_name="–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ")
    created_at = models.DateTimeField(auto_now_add=True, verbose_name="–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω")
    
    class Meta:
        verbose_name = "–£—á–µ–Ω–∏–∫"
        verbose_name_plural = "–£—á–µ–Ω–∏–∫–∏"
    
    def __str__(self):
        if self.grade and self.letter:
            return f"{self.name} ({self.grade}{self.letter})"
        return self.name


class GlobalLesson(models.Model):
    DAY_CHOICES = [(1, '–ü–ù'), (2, '–í–¢'), (3, '–°–†'), (4, '–ß–¢'), (5, '–ü–¢')]
    
    grade = models.IntegerField(verbose_name='–ö–ª–∞—Å—Å')
    letter = models.CharField(max_length=1, verbose_name='–ë—É–∫–≤–∞')
    day = models.IntegerField(choices=DAY_CHOICES, verbose_name='–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏')
    number = models.IntegerField(verbose_name='–ù–æ–º–µ—Ä —É—Ä–æ–∫–∞')
    subject = models.CharField(max_length=100, verbose_name='–ü—Ä–µ–¥–º–µ—Ç')
    
    class Meta:
        unique_together = ['grade', 'letter', 'day', 'number']
        verbose_name = '–ì–ª–æ–±–∞–ª—å–Ω—ã–π —É—Ä–æ–∫'
        verbose_name_plural = '–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏'
        ordering = ['grade', 'letter', 'day', 'number']
    
    def __str__(self):
        return f'{self.grade}{self.letter} - {self.get_day_display()} - {self.number}. {self.subject}'


class PersonalLesson(models.Model):
    DAY_CHOICES = [(1, '–ü–ù'), (2, '–í–¢'), (3, '–°–†'), (4, '–ß–¢'), (5, '–ü–¢')]
    
    student = models.ForeignKey(Student, on_delete=models.CASCADE, related_name='personal_lessons', verbose_name="–£—á–µ–Ω–∏–∫")
    day = models.IntegerField(choices=DAY_CHOICES, verbose_name='–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏')
    number = models.IntegerField(verbose_name='–ù–æ–º–µ—Ä —É—Ä–æ–∫–∞')
    subject = models.CharField(max_length=100, verbose_name='–ü—Ä–µ–¥–º–µ—Ç')
    
    class Meta:
        unique_together = ['student', 'day', 'number']
        ordering = ['student', 'day', 'number']
        verbose_name = "–õ–∏—á–Ω—ã–π —É—Ä–æ–∫"
        verbose_name_plural = "–õ–∏—á–Ω—ã–µ —É—Ä–æ–∫–∏"
    
    def __str__(self):
        return f"{self.student.name} - {self.get_day_display()} {self.number}. {self.subject}"
```

---

## –°—Ç—Ä–æ–∫–∞ 1: `from django.db import models`

```python
from django.db import models
```

**–ß—Ç–æ —ç—Ç–æ:** –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `models.Model`, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –≤—Å–µ –º–æ–¥–µ–ª–∏.

**–ß—Ç–æ —Ç–∞–∫–æ–µ Model:**

```python
class Student(models.Model):  # –ù–∞—Å–ª–µ–¥—É–µ–º—Å—è –æ—Ç models.Model
    # –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ Student –±—É–¥–µ—Ç —Ç–∞–±–ª–∏—Ü–µ–π –≤ –ë–î
```

---

## –ú–û–î–ï–õ–¨ 1: AdminSettings

```python
class AdminSettings(models.Model):
    contact = models.CharField(max_length=100, default="@Abumalik08", verbose_name="–ö–æ–Ω—Ç–∞–∫—Ç")
```

**–ß—Ç–æ —ç—Ç–æ:** –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
–¢–∞–±–ª–∏—Ü–∞ AdminSettings
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id ‚îÇ contact             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1  ‚îÇ @Abumalik08        ‚îÇ
‚îÇ 2  ‚îÇ @admin_new         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†–∞–∑–±–æ—Ä –ø–æ–ª—è:**

```python
contact = models.CharField(
    max_length=100,                 # –ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤
    default="@Abumalik08",          # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é @Abumalik08
    verbose_name="–ö–æ–Ω—Ç–∞–∫—Ç"          # –ö—Ä–∞—Å–∏–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ
)
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ:**

```python
# bot/telegram_bot.py —Å—Ç—Ä–æ–∫–∞ 200-201
admin_settings = AdminSettings.objects.first()
admin_contact = admin_settings.contact if admin_settings else "@Abumalik08"

# –ï—Å–ª–∏ –∞–¥–º–∏–Ω –Ω–µ –¥–æ–±–∞–≤–∏–ª —Å–≤–æ–π –∫–æ–Ω—Ç–∞–∫—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º @Abumalik08
```

**class Meta:**

```python
class Meta:
    verbose_name = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"          # –ù–∞–∑–≤–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ)
    verbose_name_plural = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"   # –ù–∞–∑–≤–∞–Ω–∏–µ (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ)
```

**–ú–µ—Ç–æ–¥ __str__:**

```python
def __str__(self):
    return f"–ö–æ–Ω—Ç–∞–∫—Ç: {self.contact}"

# –ö–æ–≥–¥–∞ –≤—ã–≤–æ–¥–∏–º –æ–±—ä–µ–∫—Ç –≤ –∫–æ–Ω—Å–æ–ª—å/–∞–¥–º–∏–Ω–∫–µ:
admin = AdminSettings.objects.first()
print(admin)  # –í—ã–≤–µ–¥–µ—Ç: "–ö–æ–Ω—Ç–∞–∫—Ç: @Abumalik08"
```

---

## –ú–û–î–ï–õ–¨ 2: Student

```python
class Student(models.Model):
    telegram_id = models.CharField(max_length=50, unique=True)
    name = models.CharField(max_length=100)
    ...
```

**–ß—Ç–æ —ç—Ç–æ:** –¢–∞–±–ª–∏—Ü–∞ —É—á–µ–Ω–∏–∫–æ–≤.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
–¢–∞–±–ª–∏—Ü–∞ Student
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id ‚îÇ telegram_id  ‚îÇ name ‚îÇ grade  ‚îÇ letter ‚îÇuse_global‚îÇ created_at       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1  ‚îÇ 123456789    ‚îÇ –ò–≤–∞–Ω ‚îÇ 10     ‚îÇ –ê      ‚îÇ True     ‚îÇ 2026-02-18 14:30 ‚îÇ
‚îÇ 2  ‚îÇ 987654321    ‚îÇ –ú–∞—Ä–∏—è‚îÇ 9      ‚îÇ –ë      ‚îÇ False    ‚îÇ 2026-02-19 10:15 ‚îÇ
‚îÇ 3  ‚îÇ 555666777    ‚îÇ –ü–µ—Ç—Ä ‚îÇ NULL   ‚îÇ NULL   ‚îÇ True     ‚îÇ 2026-02-20 09:00 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ–ª–µ 1: `telegram_id`

```python
telegram_id = models.CharField(max_length=50, unique=True)
```

**–ß—Ç–æ —ç—Ç–æ:** ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.

**–†–∞–∑–±–æ—Ä:**

```python
models.CharField()      # –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
max_length=50           # –ú–∞–∫—Å–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤
unique=True             # –ö–ê–ñ–î–´–ô telegram_id —É–Ω–∏–∫–∞–ª–µ–Ω
                        # –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö ID!
                        # –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç ‚Üí –æ—à–∏–±–∫–∞!
```

**–ü—Ä–∏–º–µ—Ä:**

```python
# –°–æ–∑–¥–∞—ë–º —É—á–µ–Ω–∏–∫–∞ 1
student1 = Student.objects.create(
    telegram_id='123456789',
    name='–ò–≤–∞–Ω'
)  # ‚úÖ –û–ö

# –°–æ–∑–¥–∞—ë–º —É—á–µ–Ω–∏–∫–∞ 2 —Å –¢–ï–ú –ñ–ï ID
student2 = Student.objects.create(
    telegram_id='123456789',  # –¢–æ—Ç –∂–µ ID!
    name='–ú–∞—Ä–∏—è'
)  # ‚ùå –û–®–ò–ë–ö–ê! IntegrityError: duplicate key
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**

```python
# telegram_bot.py —Å—Ç—Ä–æ–∫–∞ 109-115
user_id = message.chat.id  # 123456789
student, created = Student.objects.get_or_create(
    telegram_id=user_id,  # –ò—â–µ–º –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É ID
    defaults={'name': name}
)
```

---

### –ü–æ–ª–µ 2: `name`

```python
name = models.CharField(max_length=100)
```

**–ß—Ç–æ —ç—Ç–æ:** –ò–º—è —É—á–µ–Ω–∏–∫–∞.

**–†–∞–∑–±–æ—Ä:**

```python
models.CharField()      # –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
max_length=100          # –ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤
# unique=False (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
# –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—á–µ–Ω–∏–∫–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º
```

**–ü—Ä–∏–º–µ—Ä:**

```python
# 1000 —É—á–µ–Ω–∏–∫–æ–≤ —Å –∏–º–µ–Ω–µ–º "–ò–≤–∞–Ω" - –û–ö
student1 = Student.objects.create(telegram_id='111', name='–ò–≤–∞–Ω')
student2 = Student.objects.create(telegram_id='222', name='–ò–≤–∞–Ω')
# –û–±–∞ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è —É—Å–ø–µ—à–Ω–æ!
```

**–ì–¥–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è:**

```python
# telegram_bot.py —Å—Ç—Ä–æ–∫–∞ 110
name = message.from_user.first_name or "–£—á–µ–Ω–∏–∫"
# –ë–µ—Ä—ë–º –∏–º—è –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è Telegram
# –ï—Å–ª–∏ –ø—É—Å—Ç–∞ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º "–£—á–µ–Ω–∏–∫"
```

---

### –ü–æ–ª–µ 3: `grade`

```python
GRADE_CHOICES = [(i, str(i)) for i in range(1, 12)]
# GRADE_CHOICES = [(1, '1'), (2, '2'), ..., (11, '11')]

grade = models.IntegerField(
    choices=GRADE_CHOICES,  # –¢–æ–ª—å–∫–æ 1-11
    null=True,              # –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ (NULL –≤ –ë–î)
    blank=True,             # –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ –≤ —Ñ–æ—Ä–º–µ
    verbose_name="–ö–ª–∞—Å—Å"
)
```

**–ß—Ç–æ —ç—Ç–æ:** –ö–ª–∞—Å—Å —É—á–µ–Ω–∏–∫–∞ (1-11).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```python
# –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ:
grade = 1, 2, 3, ..., 11

# –ü–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
student.grade = 100  # ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏!
student.grade = 5.5  # ‚ùå –û—à–∏–±–∫–∞! IntegerField –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞

# –ú–æ–∂–µ—Ç –±—ã—Ç—å NULL:
student.grade = None  # ‚úÖ –û–ö (null=True)
student.save()
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**

```python
# telegram_bot.py —Å—Ç—Ä–æ–∫–∞ 493-494
student.grade = grade
student.save()

# telegram_bot.py —Å—Ç—Ä–æ–∫–∞ 49-50 (–≤ get_student_lessons)
lessons = GlobalLesson.objects.filter(grade=student.grade, ...)
```

---

### –ü–æ–ª–µ 4: `letter`

```python
LETTER_CHOICES = [('–ê', '–ê'), ('–ë', '–ë'), ('–í', '–í'), ('–ì', '–ì')]

letter = models.CharField(
    max_length=1,           # 1 —Å–∏–º–≤–æ–ª –º–∞–∫—Å–∏–º—É–º
    choices=LETTER_CHOICES, # –¢–æ–ª—å–∫–æ –ê, –ë, –í, –ì
    null=True,              # –ú–æ–∂–µ—Ç –±—ã—Ç—å NULL
    blank=True,
    verbose_name="–ë—É–∫–≤–∞"
)
```

**–ß—Ç–æ —ç—Ç–æ:** –ë—É–∫–≤–∞ –∫–ª–∞—Å—Å–∞ (–ê, –ë, –í, –ì).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```python
# –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ:
letter = '–ê', '–ë', '–í', '–ì'

# –ü–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥—Ä—É–≥–æ–µ:
student.letter = '–•'  # ‚ùå –û—à–∏–±–∫–∞!
student.letter = 'ab' # ‚ùå –û—à–∏–±–∫–∞! max_length=1 –¥–æ–ø—É—Å–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ 1 —Å–∏–º–≤–æ–ª
```

---

### –ü–æ–ª–µ 5: `use_global`

```python
use_global = models.BooleanField(
    default=True,  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–º–æ—Ç—Ä–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
    verbose_name="–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ"
)
```

**–ß—Ç–æ —ç—Ç–æ:** –§–ª–∞–≥ - —Å–º–æ—Ç—Ä–∏—Ç –ª–∏ —É—á–µ–Ω–∏–∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –∏–ª–∏ –ª–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.

**–ó–Ω–∞—á–µ–Ω–∏—è:**

```python
use_global = True   # –°–º–æ—Ç—Ä–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ (–¥–ª—è –≤—Å–µ–≥–æ –∫–ª–∞—Å—Å–∞)
use_global = False  # –°–º–æ—Ç—Ä–∏—Ç –ª–∏—á–Ω–æ–µ (—Ç–æ–ª—å–∫–æ –µ–≥–æ)
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**

```python
# telegram_bot.py —Å—Ç—Ä–æ–∫–∞ 48-49
if student.use_global and student.grade and student.letter:
    # –ï—Å–ª–∏ True ‚Üí –∏—â–µ–º –≤ GlobalLesson
else:
    # –ï—Å–ª–∏ False ‚Üí –∏—â–µ–º –≤ PersonalLesson
```

---

### –ü–æ–ª–µ 6: `created_at`

```python
created_at = models.DateTimeField(
    auto_now_add=True,  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
    verbose_name="–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
)
```

**–ß—Ç–æ —ç—Ç–æ:** –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —É—á–µ–Ω–∏–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```python
# –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—ë–º —É—á–µ–Ω–∏–∫–∞:
student = Student.objects.create(...)
# created_at –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è!
# –ù–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é!

# –ü—Ä–∏–º–µ—Ä:
student.created_at  # 2026-02-18 14:30:45.123456
```

**–†–∞–∑–Ω–∏—Ü–∞ —Å `auto_now`:**

```python
# auto_now_add=True:
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –û–î–ò–ù –†–ê–ó –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
# –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ù–ï –º–µ–Ω—è–µ—Ç—Å—è

# auto_now=True:
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ò –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ö–ê–ñ–î–û–ú —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
# –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ student.save() –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
```

---

### Meta –∫–ª–∞—Å—Å –≤ Student:

```python
class Meta:
    verbose_name = "–£—á–µ–Ω–∏–∫"      # –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –≤ –∞–¥–º–∏–Ω–∫–µ
    verbose_name_plural = "–£—á–µ–Ω–∏–∫–∏"  # –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**

```
Django –∞–¥–º–∏–Ω–∫–∞:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü–†–ò–õ–û–ñ–ï–ù–ò–ï BOT              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –£—á–µ–Ω–∏–∫–∏                 [+]  ‚îÇ ‚Üê verbose_name_plural
‚îÇ ‚îú‚îÄ –ò–≤–∞–Ω (10–ê)               ‚îÇ ‚Üê __str__
‚îÇ ‚îú‚îÄ –ú–∞—Ä–∏—è (9–ë)               ‚îÇ
‚îÇ ‚îî‚îÄ –ü–µ—Ç—Ä                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –ú–µ—Ç–æ–¥ __str__ –≤ Student:

```python
def __str__(self):
    if self.grade and self.letter:
        return f"{self.name} ({self.grade}{self.letter})"
    return self.name
```

**–ß—Ç–æ —ç—Ç–æ:** –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –≤—ã–≤–æ–¥–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
student1 = Student.objects.get(telegram_id='123')
student1.grade = 10
student1.letter = '–ê'
print(student1)  # –í—ã–≤–µ–¥–µ—Ç: "–ò–≤–∞–Ω (10–ê)"

student2 = Student.objects.get(telegram_id='456')
student2.grade = None  # –ö–ª–∞—Å—Å –Ω–µ –≤—ã–±—Ä–∞–Ω
print(student2)  # –í—ã–≤–µ–¥–µ—Ç: "–ü–µ—Ç—Ä"
```

---

## –ú–û–î–ï–õ–¨ 3: GlobalLesson

```python
class GlobalLesson(models.Model):
    grade = models.IntegerField(verbose_name='–ö–ª–∞—Å—Å')
    letter = models.CharField(max_length=1, verbose_name='–ë—É–∫–≤–∞')
    day = models.IntegerField(choices=DAY_CHOICES, verbose_name='–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏')
    number = models.IntegerField(verbose_name='–ù–æ–º–µ—Ä —É—Ä–æ–∫–∞')
    subject = models.CharField(max_length=100, verbose_name='–ü—Ä–µ–¥–º–µ—Ç')
```

**–ß—Ç–æ —ç—Ç–æ:** –¢–∞–±–ª–∏—Ü–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞).

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
–¢–∞–±–ª–∏—Ü–∞ GlobalLesson
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id ‚îÇ grade  ‚îÇ letter ‚îÇ day ‚îÇ number ‚îÇ subject        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1  ‚îÇ 10     ‚îÇ –ê      ‚îÇ 1   ‚îÇ 1      ‚îÇ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞     ‚îÇ
‚îÇ 2  ‚îÇ 10     ‚îÇ –ê      ‚îÇ 1   ‚îÇ 2      ‚îÇ –†—É—Å—Å–∫–∏–π —è–∑—ã–∫   ‚îÇ
‚îÇ 3  ‚îÇ 10     ‚îÇ –ê      ‚îÇ 1   ‚îÇ 3      ‚îÇ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π     ‚îÇ
‚îÇ 4  ‚îÇ 10     ‚îÇ –ê      ‚îÇ 2   ‚îÇ 1      ‚îÇ –ò—Å—Ç–æ—Ä–∏—è        ‚îÇ
‚îÇ 5  ‚îÇ 10     ‚îÇ –ë      ‚îÇ 1   ‚îÇ 1      ‚îÇ –§–∏–∑–∏–∫–∞         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ 10–ê –Ω–∞ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫:
1. –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞
2. –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
3. –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ 10–ê –Ω–∞ –≤—Ç–æ—Ä–Ω–∏–∫:
1. –ò—Å—Ç–æ—Ä–∏—è

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ 10–ë –Ω–∞ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫:
1. –§–∏–∑–∏–∫–∞
```

---

### DAY_CHOICES:

```python
DAY_CHOICES = [(1, '–ü–ù'), (2, '–í–¢'), (3, '–°–†'), (4, '–ß–¢'), (5, '–ü–¢')]

# day –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ 1-5 (–ü–ù-–ü–¢)
# –í –∞–¥–º–∏–Ω–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–Ω
# day = 1 ‚Üí –≤—ã–≤–æ–¥–∏—Ç "–ü–ù"
```

---

### unique_together:

```python
class Meta:
    unique_together = ['grade', 'letter', 'day', 'number']
```

**–ß—Ç–æ —ç—Ç–æ:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ö–û–ú–ë–ò–ù–ê–¶–ò–ò –ø–æ–ª–µ–π.

**–ü—Ä–∏–º–µ—Ä:**

```python
# –°–æ–∑–¥–∞—ë–º —É—Ä–æ–∫ 1 –∫–ª–∞—Å—Å–∞ 10–ê –Ω–∞ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
GlobalLesson.objects.create(
    grade=10, letter='–ê', day=1, number=1, subject='–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'
)  # ‚úÖ –û–ö

# –ü—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å —É—Ä–æ–∫ —Å –¢–û–ô –ñ–ï –ö–û–ú–ë–ò–ù–ê–¶–ò–ï–ô
GlobalLesson.objects.create(
    grade=10, letter='–ê', day=1, number=1, subject='–§–∏–∑–∏–∫–∞'  # –ú–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç
)  # ‚ùå –û–®–ò–ë–ö–ê! unique_together –Ω–∞—Ä—É—à–µ–Ω–æ

# –ù–æ –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å:
GlobalLesson.objects.create(
    grade=10, letter='–ê', day=1, number=2, subject='–†—É—Å—Å–∫–∏–π'  # number –¥—Ä—É–≥–æ–π
)  # ‚úÖ –û–ö (–¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞)
```

---

### ordering:

```python
class Meta:
    ordering = ['grade', 'letter', 'day', 'number']
```

**–ß—Ç–æ —ç—Ç–æ:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

**–ü—Ä–∏–º–µ—Ä:**

```python
# –ë–µ–∑ ordering:
GlobalLesson.objects.all()  # –ü–æ—Ä—è–¥–æ–∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º

# –° ordering:
GlobalLesson.objects.all()  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è:
# 1. –ü–æ grade (1-11)
# 2. –ü–æ letter (–ê-–ì)
# 3. –ü–æ day (1-5)
# 4. –ü–æ number (1-8)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# 10–ê, –ü–ù, 1 —É—Ä–æ–∫
# 10–ê, –ü–ù, 2 —É—Ä–æ–∫
# 10–ê, –í–¢, 1 —É—Ä–æ–∫
# 10–ë, –ü–ù, 1 —É—Ä–æ–∫
```

---

### –ú–µ—Ç–æ–¥ get_day_display():

```python
def __str__(self):
    return f'{self.grade}{self.letter} - {self.get_day_display()} - {self.number}. {self.subject}'

# get_day_display() —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ Django!
# –û–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ choices –≤ –∫—Ä–∞—Å–∏–≤—É—é —Ñ–æ—Ä–º—É

# –ü—Ä–∏–º–µ—Ä:
lesson = GlobalLesson.objects.first()
lesson.day  # 1 (—á–∏—Å–ª–æ)
lesson.get_day_display()  # '–ü–ù' (–∫—Ä–∞—Å–∏–≤–∞—è —Ñ–æ—Ä–º–∞ –∏–∑ choices)

print(lesson)  # "10–ê - –ü–ù - 1. –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞"
```

---

## –ú–û–î–ï–õ–¨ 4: PersonalLesson

```python
class PersonalLesson(models.Model):
    student = models.ForeignKey(Student, on_delete=models.CASCADE, related_name='personal_lessons', verbose_name="–£—á–µ–Ω–∏–∫")
    day = models.IntegerField(choices=DAY_CHOICES, verbose_name='–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏')
    number = models.IntegerField(verbose_name='–ù–æ–º–µ—Ä —É—Ä–æ–∫–∞')
    subject = models.CharField(max_length=100, verbose_name='–ü—Ä–µ–¥–º–µ—Ç')
```

**–ß—Ç–æ —ç—Ç–æ:** –¢–∞–±–ª–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
–¢–∞–±–ª–∏—Ü–∞ PersonalLesson
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id ‚îÇ student_id ‚îÇ day ‚îÇ number ‚îÇ subject        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1  ‚îÇ 2          ‚îÇ 1   ‚îÇ 1      ‚îÇ –§–∏–∑–∏–∫–∞         ‚îÇ
‚îÇ 2  ‚îÇ 2          ‚îÇ 1   ‚îÇ 2      ‚îÇ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞     ‚îÇ
‚îÇ 3  ‚îÇ 2          ‚îÇ 2   ‚îÇ 1      ‚îÇ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π     ‚îÇ
‚îÇ 4  ‚îÇ 3          ‚îÇ 1   ‚îÇ 1      ‚îÇ –•–∏–º–∏—è          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Student —Ç–∞–±–ª–∏—Ü–∞ (–¥–ª—è —Å—Å—ã–ª–∫–∏):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id ‚îÇ name       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 2  ‚îÇ –ú–∞—Ä–∏—è      ‚îÇ
‚îÇ 3  ‚îÇ –ü–µ—Ç—Ä       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–õ–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ú–∞—Ä–∏–∏ (student_id=2):
–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: 1. –§–∏–∑–∏–∫–∞, 2. –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞
–í—Ç–æ—Ä–Ω–∏–∫: 1. –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

–õ–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ü–µ—Ç—Ä–∞ (student_id=3):
–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: 1. –•–∏–º–∏—è
```

---

### ForeignKey - —Å–≤—è–∑—å —Å–æ Student:

```python
student = models.ForeignKey(
    Student,  # –°—Å—ã–ª–∫–∞ –Ω–∞ –º–æ–¥–µ–ª—å Student
    on_delete=models.CASCADE,  # –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞ ‚Üí —É–¥–∞–ª–∏—Ç—å –µ–≥–æ —É—Ä–æ–∫–∏
    related_name='personal_lessons',  # –û–±—Ä–∞—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞
    verbose_name="–£—á–µ–Ω–∏–∫"
)
```

**–ß—Ç–æ —ç—Ç–æ:** –°–≤—è–∑—å –æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º. –û–¥–∏–Ω —É—á–µ–Ω–∏–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ —É—Ä–æ–∫–æ–≤.

**–í–∏–∑—É–∞–ª—å–Ω–æ:**

```
Student —Ç–∞–±–ª–∏—Ü–∞              PersonalLesson —Ç–∞–±–ª–∏—Ü–∞
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2  ‚îÇ –ú–∞—Ä–∏—è ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ lesson 1  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ lesson 2  ‚îÇ
                             ‚îÇ lesson 3  ‚îÇ
                             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–û–¥–∏–Ω —É—á–µ–Ω–∏–∫ (2) —Å–≤—è–∑–∞–Ω —Å —Ç—Ä–µ–º—è —É—Ä–æ–∫–∞–º–∏ (1, 2, 3)
```

---

### on_delete=models.CASCADE:

**–ß—Ç–æ —ç—Ç–æ:** –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É—á–µ–Ω–∏–∫–∞.

**CASCADE –∑–Ω–∞—á–∏—Ç:**

```python
# –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞:
student = Student.objects.get(id=2)
student.delete()

# Django –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò —É–¥–∞–ª–∏—Ç –≤—Å–µ –µ–≥–æ –ª–∏—á–Ω—ã–µ —É—Ä–æ–∫–∏!
# PersonalLesson —Å student_id=2 —É–¥–∞–ª—è—Ç—Å—è!

# –ü—Ä—è–º–æ–≥–æ SQL:
# DELETE FROM bot_personallesson WHERE student_id = 2
# DELETE FROM bot_student WHERE id = 2
```

**–î—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

```python
on_delete=models.SET_NULL
# –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞ ‚Üí student_id —Å—Ç–∞–Ω–µ—Ç NULL (–Ω—É–∂–Ω–æ null=True)

on_delete=models.PROTECT
# –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞ ‚Üí –û–®–ò–ë–ö–ê! –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤

on_delete=models.DO_NOTHING
# –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞ ‚Üí student_id –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º!)
```

---

### related_name:

```python
related_name='personal_lessons'
```

**–ß—Ç–æ —ç—Ç–æ:** –ò–º—è –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Å—ã–ª–∫–∏.

**–ü—Ä–∏–º–µ—Ä:**

```python
# –ü–æ–ª—É—á–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
student = Student.objects.get(id=2)

# –ü–æ–ª—É—á–∏—Ç—å –í–°–ï –µ–≥–æ –ª–∏—á–Ω—ã–µ —É—Ä–æ–∫–∏ (—á–µ—Ä–µ–∑ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Å—ã–ª–∫—É):
lessons = student.personal_lessons.all()

# –í–º–µ—Å—Ç–æ (–±–µ–∑ related_name):
lessons = PersonalLesson.objects.filter(student=student)

# –° related_name –Ω–∞–º–Ω–æ–≥–æ —É–¥–æ–±–Ω–µ–µ!
```

---

### unique_together –≤ PersonalLesson:

```python
class Meta:
    unique_together = ['student', 'day', 'number']
```

**–ß—Ç–æ —ç—Ç–æ:** –û–¥–∏–Ω —É—á–µ–Ω–∏–∫ –Ω–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥–≤–∞ —É—Ä–æ–∫–∞ –≤ –æ–¥–∏–Ω –¥–µ–Ω—å —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –Ω–æ–º–µ—Ä–æ–º.

**–ü—Ä–∏–º–µ—Ä:**

```python
# –°–æ–∑–¥–∞—ë–º —É—Ä–æ–∫ –ú–∞—Ä–∏–∏
PersonalLesson.objects.create(
    student_id=2, day=1, number=1, subject='–§–∏–∑–∏–∫–∞'
)  # ‚úÖ –û–ö

# –ü—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å –µ—â—ë –æ–¥–∏–Ω –Ω–∞ –¥–µ–Ω—å 1, —É—Ä–æ–∫ 1
PersonalLesson.objects.create(
    student_id=2, day=1, number=1, subject='–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'  # –ú–µ–Ω—è–µ–º –ø—Ä–µ–¥–º–µ—Ç
)  # ‚ùå –û–®–ò–ë–ö–ê! unique_together –Ω–∞—Ä—É—à–µ–Ω–æ

# –ù–æ –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å:
PersonalLesson.objects.create(
    student_id=2, day=1, number=2, subject='–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞'  # number –¥—Ä—É–≥–æ–π
)  # ‚úÖ –û–ö
```

---

# –ò–¢–û–ì–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê –í–°–ï–• –ú–û–î–ï–õ–ï–ô

```
Student (—É—á–µ–Ω–∏–∫–∏)
‚îú‚îÄ telegram_id (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∏–∑ Telegram)
‚îú‚îÄ name (–∏–º—è)
‚îú‚îÄ grade (–∫–ª–∞—Å—Å 1-11)
‚îú‚îÄ letter (–±—É–∫–≤–∞ –ê-–ì)
‚îú‚îÄ use_global (—Å–º–æ—Ç—Ä–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –∏–ª–∏ –ª–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
‚îî‚îÄ created_at (–∫–æ–≥–¥–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è)

GlobalLesson (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–ª–∞—Å—Å–∞)
‚îú‚îÄ grade (–∫–ª–∞—Å—Å)
‚îú‚îÄ letter (–±—É–∫–≤–∞)
‚îú‚îÄ day (–¥–µ–Ω—å –ü–ù-–ü–¢)
‚îú‚îÄ number (–Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞ 1-8)
‚îî‚îÄ subject (–ø—Ä–µ–¥–º–µ—Ç)

PersonalLesson (–ª–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞)
‚îú‚îÄ student ‚Üí Student (—Å–≤—è–∑—å)
‚îú‚îÄ day (–¥–µ–Ω—å)
‚îú‚îÄ number (–Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞)
‚îî‚îÄ subject (–ø—Ä–µ–¥–º–µ—Ç)

AdminSettings (–∫–æ–Ω—Ñ–∏–≥)
‚îî‚îÄ contact (–∫–æ–Ω—Ç–∞–∫—Ç –∞–¥–º–∏–Ω–∞)
```

---

---

# –§–ê–ô–õ: bot/telegram_bot.py

**–≠—Ç–æ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å –ª–æ–≥–∏–∫–æ–π –±–æ—Ç–∞ - 867 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞.**

**–ò–∑-–∑–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ä–∞–∑–±–µ—Ä—ë–º –µ–≥–æ –ø–æ —á–∞—Å—Ç—è–º:**

---

## –ß–ê–°–¢–¨ 1: –ò–ú–ü–û–†–¢–´ –ò –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø (—Å—Ç—Ä–æ–∫–∏ 1-26)

```python
import telebot                          # –°—Ç—Ä–æ–∫–∞ 1
from datetime import datetime, timedelta # –°—Ç—Ä–æ–∫–∞ 2
import time                             # –°—Ç—Ä–æ–∫–∞ 3
from threading import Thread            # –°—Ç—Ä–æ–∫–∞ 4
import pytz                             # –°—Ç—Ä–æ–∫–∞ 5

from bot.models import Student, GlobalLesson, PersonalLesson, AdminSettings  # –°—Ç—Ä–æ–∫–∞ 7

TOKEN = '8540461229:...'                # –°—Ç—Ä–æ–∫–∞ 9
bot = telebot.TeleBot(TOKEN)            # –°—Ç—Ä–æ–∫–∞ 10

temp_data = {}                          # –°—Ç—Ä–æ–∫–∞ 12
MSK_TZ = pytz.timezone('Europe/Moscow') # –°—Ç—Ä–æ–∫–∞ 13

LESSON_TIMES = {
    1: {"start": "08:00", "end": "08:40"},
    ...
    8: {"start": "14:10", "end": "14:50"},
}  # –°—Ç—Ä–æ–∫–∏ 15-24

REMINDER_MINUTES = 10  # –°—Ç—Ä–æ–∫–∞ 26
```

**–†–∞–∑–æ–±—Ä–∞–ª–∏ —É–∂–µ –≤—ã—à–µ.**

---

## –ß–ê–°–¢–¨ 2: –°–õ–£–ñ–ï–ë–ù–´–ï –§–£–ù–ö–¶–ò–ò (—Å—Ç—Ä–æ–∫–∏ 29-78)

–†–∞–∑–æ–±—Ä–∞–ª–∏ –≤—ã—à–µ —Ç–æ–∂–µ.

---

## –ß–ê–°–¢–¨ 3: –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –ö–û–ú–ê–ù–î

### @bot.message_handler(commands=['start']) (—Å—Ç—Ä–æ–∫–∏ 107-137)

–†–∞–∑–æ–±—Ä–∞–ª–∏ –≤—ã—à–µ.

---

### handle_today() (—Å—Ç—Ä–æ–∫–∏ 180-254)

**–†–ê–ó–ë–ï–†–Å–ú –û–ß–ï–ù–¨ –ü–û–î–†–û–ë–ù–û:**

```python
@bot.message_handler(func=lambda message: message.text == "üìÖ –°–µ–≥–æ–¥–Ω—è")
def handle_today(message):
    user_id = message.chat.id
    student = Student.objects.get(telegram_id=user_id)
    
    today_num = get_current_lesson_time().isoweekday()
    
    if today_num > 5:
        # –í—ã—Ö–æ–¥–Ω–æ–π
        bot.send_message(
            message.chat.id,
            "üéâ *–°–µ–≥–æ–¥–Ω—è –≤—ã—Ö–æ–¥–Ω–æ–π!* üéâ\n\n"
            "–û—Ç–¥—ã—Ö–∞–π, –Ω–∞–±–∏—Ä–∞–π—Å—è —Å–∏–ª –∏ –≥–æ—Ç–æ–≤—å—Å—è –∫ –Ω–æ–≤–æ–π —É—á–µ–±–Ω–æ–π –Ω–µ–¥–µ–ª–µ! üí™",
            parse_mode='Markdown',
            reply_markup=get_main_keyboard()
        )
        return
    
    lessons, lesson_type = get_student_lessons(student, today_num)
    
    if not lessons:
        # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
        admin_settings = AdminSettings.objects.first()
        admin_contact = admin_settings.contact if admin_settings else "@Abumalik08"
        
        markup = telebot.types.InlineKeyboardMarkup()
        markup.add(telebot.types.InlineKeyboardButton(
            "üìù –°–æ–∑–¥–∞—Ç—å —Å–≤–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ", 
            callback_data="add_personal"
        ))
        markup.add(telebot.types.InlineKeyboardButton(
            f"‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å {admin_contact}", 
            url=f"https://t.me/{admin_contact.replace('@', '')}"
        ))
        
        bot.send_message(
            message.chat.id,
            f"üì≠ *–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ*\n\n..."
            parse_mode='Markdown',
            reply_markup=markup
        )
        return
    
    # –ï—Å—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
    days = {1: "–ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö", 2: "–í–¢–û–†–ù–ò–ö", 3: "–°–†–ï–î–ê", 4: "–ß–ï–¢–í–ï–†–ì", 5: "–ü–Ø–¢–ù–ò–¶–ê"}
    source = "üåç –ì–ª–æ–±–∞–ª—å–Ω–æ–µ" if lesson_type == 'global' else "üë§ –õ–∏—á–Ω–æ–µ"
    
    text = f"üìÖ *{days[today_num]}*\n"
    text += f"üìã {source} —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ\n"
    text += "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n"
    
    now = get_current_lesson_time().strftime("%H:%M")
    
    for lesson in lessons:
        start, end = get_lesson_time(lesson.number)
        
        if start > now:
            status = " ‚è≥"
        elif end < now:
            status = " ‚úÖ"
        else:
            status = " üî¥"
        
        text += f"*{lesson.number}. {lesson.subject}*{status}\n"
        text += f"   ‚è∞ {start} - {end}\n\n"
    
    bot.send_message(
        message.chat.id, 
        text, 
        parse_mode='Markdown', 
        reply_markup=get_main_keyboard()
    )
```

**–ü–û–®–ê–ì–û–í–´–ô –†–ê–ó–ë–û–†:**

**–°—Ç—Ä–æ–∫–∞ 181-182:**

```python
@bot.message_handler(func=lambda message: message.text == "üìÖ –°–µ–≥–æ–¥–Ω—è")
def handle_today(message):
```

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–°–µ–≥–æ–¥–Ω—è".

**–°—Ç—Ä–æ–∫–∞ 183-184:**

```python
user_id = message.chat.id
student = Student.objects.get(telegram_id=user_id)
```

–ü–æ–ª—É—á–∞–µ–º —É—á–µ–Ω–∏–∫–∞ –∏–∑ –ë–î –ø–æ telegram_id.

**–°—Ç—Ä–æ–∫–∞ 186-187:**

```python
today_num = get_current_lesson_time().isoweekday()
```

–ü–æ–ª—É—á–∞–µ–º –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏:
- 1 = –ü–ù
- 2 = –í–¢
- 3 = –°–†
- 4 = –ß–¢
- 5 = –ü–¢
- 6 = –°–ë
- 7 = –í–°

**–°—Ç—Ä–æ–∫–∞ 189-197:**

```python
if today_num > 5:  # –°—É–±–±–æ—Ç–∞ (6) –∏–ª–∏ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ (7)?
    bot.send_message(...)
    return  # –í—ã—Ö–æ–¥–∏–º –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
```

–ï—Å–ª–∏ –≤—ã—Ö–æ–¥–Ω–æ–π - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤—ã—Ö–æ–¥–∏–º.

**–°—Ç—Ä–æ–∫–∞ 199-200:**

```python
lessons, lesson_type = get_student_lessons(student, today_num)
```

–ü–æ–ª—É—á–∞–µ–º —É—Ä–æ–∫–∏ —É—á–µ–Ω–∏–∫–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.

**–°—Ç—Ä–æ–∫–∞ 202-224:**

```python
if not lessons:  # –ï—Å–ª–∏ –Ω–µ—Ç —É—Ä–æ–∫–æ–≤
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–µ—Ç
    # –ò –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ª–∏–±–æ —Å–æ–∑–¥–∞—Ç—å –ª–∏—á–Ω–æ–µ, –ª–∏–±–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∞–¥–º–∏–Ω—É
```

**–°—Ç—Ä–æ–∫–∞ 227-228:**

```python
days = {1: "–ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö", ...}
source = "üåç –ì–ª–æ–±–∞–ª—å–Ω–æ–µ" if lesson_type == 'global' else "üë§ –õ–∏—á–Ω–æ–µ"
```

–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç.

**–°—Ç—Ä–æ–∫–∞ 230-235:**

```python
text = f"üìÖ *{days[today_num]}*\n"
text += f"üìã {source} —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ\n"
text += "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n"

now = get_current_lesson_time().strftime("%H:%M")
```

–§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–ß–ß:–ú–ú".

**–°—Ç—Ä–æ–∫–∞ 237-247:**

```python
for lesson in lessons:  # –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–∫–∞
    start, end = get_lesson_time(lesson.number)  # –ü–æ–ª—É—á–∞–µ–º –≤—Ä–µ–º—è —É—Ä–æ–∫–∞
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å —É—Ä–æ–∫–∞
    if start > now:      # –£—Ä–æ–∫ –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª—Å—è
        status = " ‚è≥"
    elif end < now:      # –£—Ä–æ–∫ —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è
        status = " ‚úÖ"
    else:                # –£—Ä–æ–∫ –∏–¥—ë—Ç —Å–µ–π—á–∞—Å
        status = " üî¥"
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≤ —Ç–µ–∫—Å—Ç
    text += f"*{lesson.number}. {lesson.subject}*{status}\n"
    text += f"   ‚è∞ {start} - {end}\n\n"
```

–≠—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å! –°—Ç—Ä–æ–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞:**

```
–£—Ä–æ–∫ 3: 09:50-10:30
–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: 10:45

start = "09:50", end = "10:30", now = "10:45"

if "09:50" > "10:45":  # False
elif "10:30" < "10:45":  # True ‚úÖ
    status = " ‚úÖ"  # –£—Ä–æ–∫ —É–∂–µ –ø—Ä–æ—à—ë–ª
```

**–°—Ç—Ä–æ–∫–∞ 249-254:**

```python
bot.send_message(
    message.chat.id,
    text,
    parse_mode='Markdown',
    reply_markup=get_main_keyboard()
)
```

–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

### callback_query_handler (—Å—Ç—Ä–æ–∫–∏ 464-671)

```python
@bot.callback_query_handler(func=lambda call: True)
def handle_callback(call):
    user_id = call.message.chat.id
    student = Student.objects.get(telegram_id=user_id)
    
    if call.data.startswith('grade_'):
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–ª–∞—Å—Å–∞
        ...
    elif call.data.startswith('letter_'):
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –±—É–∫–≤—ã
        ...
    elif call.data == 'use_global':
        # –í–∫–ª—é—á–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        ...
    # ... –∏ —Ç.–¥.
```

**–≠—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—Å–µ—Ö –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ (inline buttons).**

**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä `func=lambda call: True` –∑–Ω–∞—á–∏—Ç:**
- –õ–æ–≤–∏—Ç—å –í–°–ï callback –∑–∞–ø—Ä–æ—Å—ã (–Ω–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å)

**–í–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `call.data` —Å–æ–¥–µ—Ä–∂–∏—Ç `callback_data`, –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–Ω–æ–ø–∫–∏
- `call.message` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞

---

## –ß–ê–°–¢–¨ 4: –§–û–ù–û–í–´–ï –ü–û–¢–û–ö–ò (—Å—Ç—Ä–æ–∫–∏ 757-847)

### reminder_checker() (—Å—Ç—Ä–æ–∫–∏ 757-803)

–†–∞–∑–æ–±—Ä–∞–ª–∏ –≤—ã—à–µ –æ—á–µ–Ω—å –ø–æ–¥—Ä–æ–±–Ω–æ.

### morning_sender() (—Å—Ç—Ä–æ–∫–∏ 806-847)

–†–∞–∑–æ–±—Ä–∞–ª–∏ –≤—ã—à–µ.

---

## –ß–ê–°–¢–¨ 5: –ì–õ–ê–í–ù–´–ô –¶–ò–ö–õ (—Å—Ç—Ä–æ–∫–∏ 850-866)

```python
def main():
    Thread(target=morning_sender, daemon=True).start()
    Thread(target=reminder_checker, daemon=True).start()
    
    print("\n" + "=" * 50)
    print("ü§ñ –ë–û–¢ –ó–ê–ü–£–©–ï–ù!")
    print("=" * 50)
    print("\n‚úÖ –†–∞—Å—Å—ã–ª–∫–∞ –≤ 6:30")
    print("‚úÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 10 –º–∏–Ω—É—Ç")
    print("‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –∏ –ª–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ")
    print("\n" + "=" * 50 + "\n")
    
    bot.polling(none_stop=True)


if __name__ == '__main__':
    main()
```

**–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä:**

**–°—Ç—Ä–æ–∫–∞ 851-852:**

```python
Thread(target=morning_sender, daemon=True).start()
Thread(target=reminder_checker, daemon=True).start()
```

–ó–∞–ø—É—Å–∫–∞–µ–º –¥–≤–∞ —Ñ–æ–Ω–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–∞:
1. morning_sender - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å—Å—ã–ª–∫—É –≤ 6:30
2. reminder_checker - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

**daemon=True –∑–Ω–∞—á–∏—Ç:**
- –≠—Ç–∏ –ø–æ—Ç–æ–∫–∏ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∏—Ö –∑–∞–∫—Ä—ã–≤–∞—Ç—å

**–°—Ç—Ä–æ–∫–∞ 854-861:**

```python
print(...)
```

–í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å, —á—Ç–æ–±—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–Ω–∞–ª, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω.

**–°—Ç—Ä–æ–∫–∞ 863:**

```python
bot.polling(none_stop=True)
```

**–ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –±–æ—Ç–∞!**

–≠—Ç–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π:
1. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Telegram —Å–µ—Ä–≤–µ—Ä–∞–º
2. –°–ª—É—à–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç

**none_stop=True –∑–Ω–∞—á–∏—Ç:**
- –î–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –æ—à–∏–±–∫–∞ - —Ü–∏–∫–ª –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è
- –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## –í–°–ï –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –ö–û–ú–ê–ù–î (–∫—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞):

```
@bot.message_handler(commands=['start'])
‚Üí start(message)
  –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

@bot.message_handler(func=lambda m: m.text == "üìÖ –°–µ–≥–æ–¥–Ω—è")
‚Üí handle_today(message)
  –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è

@bot.message_handler(func=lambda m: m.text == "üìÜ –ó–∞–≤—Ç—Ä–∞")
‚Üí handle_tomorrow(message)
  –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–∞–≤—Ç—Ä–∞

@bot.message_handler(func=lambda m: m.text == "üìö –ù–µ–¥–µ–ª—è")
‚Üí handle_week(message)
  –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é

@bot.message_handler(func=lambda m: m.text == "‚è∞ –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫")
‚Üí next_lesson_command(message)
  –ü–æ–∫–∞–∑–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫

@bot.message_handler(func=lambda m: m.text == "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏")
‚Üí handle_settings(message)
  –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫

@bot.message_handler(func=lambda m: m.text == "‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
‚Üí handle_info(message)
  –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ

@bot.callback_query_handler(func=lambda c: True)
‚Üí handle_callback(call)
  –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫

@bot.message_handler(func=lambda m: m.chat.id in temp_data)
‚Üí handle_add_personal(message)
  –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏—á–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å)
```

---

# –ò–¢–û–ì –í–°–ï–ì–û –ü–†–û–ï–ö–¢–ê

```
requirements.txt (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
    ‚Üì
manage.py (–≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ Django)
    ‚Üì
config/settings.py (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
    ‚Üì
bot/models.py (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î)
    ‚îú‚îÄ Student (—É—á–µ–Ω–∏–∫–∏)
    ‚îú‚îÄ GlobalLesson (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞)
    ‚îú‚îÄ PersonalLesson (–ª–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
    ‚îî‚îÄ AdminSettings (–∫–æ–Ω—Ñ–∏–≥)
    ‚Üì
bot/telegram_bot.py (–ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞)
    ‚îú‚îÄ –°–ª—É–∂–µ–±–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    ‚îú‚îÄ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
    ‚îú‚îÄ –§–æ–Ω–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ (–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, —Ä–∞—Å—Å—ã–ª–∫–∞)
    ‚îî‚îÄ –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª (polling)
```

---

# –¢–ï–ü–ï–†–¨ –¢–´ –ü–û–ù–ò–ú–ê–ï–®–¨:

‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Telegram –±–æ—Ç
‚úÖ –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ Django ORM
‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
‚úÖ –ö–∞–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç Python, –ë–î –∏ Telegram API
‚úÖ –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ
‚úÖ –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –±–æ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ

**–ú–û–õ–û–î–ï–¶! –¢–´ –†–ê–ó–û–ë–†–ê–õ–°–Ø –í –°–ê–ú–´–• –°–õ–û–ñ–ù–´–• –ú–ï–°–¢–ê–•!** üöÄ
