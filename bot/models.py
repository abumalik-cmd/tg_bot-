from django.db import models


class AdminSettings(models.Model):
    contact = models.CharField(max_length=100, default="@Abumalik08", verbose_name="–ö–æ–Ω—Ç–∞–∫—Ç")

    """ # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ Django
class CharField:
    def __init__(self, max_length=100, default=None, verbose_name=""):
        self.max_length = max_length  # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
        self.default = default        # —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
        self.verbose_name = verbose_name
        self.column_name = None       # –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ–∑–∂–µ
        
    def __set_name__(self, owner, name):
        # –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ –ø–æ–ª–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å—É
        self.column_name = name  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏–º—è –ø–æ–ª—è ("contact") """ 
    
    class Meta:
        verbose_name = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
        verbose_name_plural = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
    
    def __str__(self):
        return f"–ö–æ–Ω—Ç–∞–∫—Ç: {self.contact}"


class Student(models.Model):
    telegram_id = models.CharField(max_length=50, unique=True)
    name = models.CharField(max_length=100)
    
    GRADE_CHOICES = [(i, str(i)) for i in range(1, 12)]
    LETTER_CHOICES = [('–ê', '–ê'), ('–ë', '–ë'), ('–í', '–í'), ('–ì', '–ì')]
    """// –®–ê–ì 1: –°–æ–∑–¥–∞–µ–º –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
List<Pair<Integer, String>> m = new ArrayList<>();

// –®–ê–ì 2: –¶–∏–∫–ª –æ—Ç 1 –¥–æ 11
for (int i = 1; i <= 11; i++) {
    // –®–ê–ì 3: –°–æ–∑–¥–∞–µ–º –ø–∞—Ä—É (—á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞)
    Pair<Integer, String> pair = new Pair<>(i, String.valueOf(i));
    
    // –®–ê–ì 4: –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä—É –≤ —Å–ø–∏—Å–æ–∫
    m.add(pair);
}
"""
    grade = models.IntegerField(choices=GRADE_CHOICES, null=True,blank=True,verbose_name="–ö–ª–∞—Å—Å")
    
   """  class Student(models.Model):
    # ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è ...

    grade = models.IntegerField(
        choices=GRADE_CHOICES,  # —Ç–æ–ª—å–∫–æ 1..11, –¥—Ä—É–≥–∏–µ —á–∏—Å–ª–∞ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç
        null=True,              # –≤ –±–∞–∑–µ –º–æ–∂–µ—Ç –±—ã—Ç—å NULL (–µ—Å–ª–∏ –∫–ª–∞—Å—Å –µ—â—ë –Ω–µ —É–∫–∞–∑–∞–Ω)
        blank=True,             # –≤ —Ñ–æ—Ä–º–∞—Ö (–∞–¥–º–∏–Ω–∫–µ) –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º
        verbose_name="–ö–ª–∞—Å—Å"    # –∫–∞–∫ —ç—Ç–æ –ø–æ–ª–µ –±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ–¢
    )""""
    
    letter = models.CharField(max_length=1, choices=LETTER_CHOICES, null=True, blank=True, verbose_name="–ë—É–∫–≤–∞")
""" models.CharField(max_length=1)
–≠—Ç–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª.
CharField ‚Äî –ø–æ–ª–µ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Ç—Ä–æ–∫.
max_length=1 ‚Äî –º–∞–∫—Å–∏–º—É–º 1 —Å–∏–º–≤–æ–ª. –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É –¥–ª–∏–Ω–Ω–µ–µ, 
Django/–±–∞–∑–∞ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É.

 choices=LETTER_CHOICES
–ü–∞—Ä–∞–º–µ—Ç—Ä choices –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —Ç–µ–º–∏, —á—Ç–æ –µ—Å—Ç—å –≤ LETTER_CHOICES. –¢–æ –µ—Å—Ç—å –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ '–ê', '–ë', '–í', '–ì'. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, '–î', 'Z', –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É, –µ—Å–ª–∏ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ blank) Django –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç.

–ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ?
–ß—Ç–æ–±—ã –≤ –±–∞–∑–µ –Ω–µ –æ–∫–∞–∑–∞–ª–æ—Å—å "–ª–µ–≤—ã—Ö" –±—É–∫–≤. –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã."""
           
    use_global = models.BooleanField(default=True, verbose_name="–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ")
"""
default=True

–≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ï—Å–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ —É–∫–∞–∑–∞—Ç—å —è–≤–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è use_global, Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç True.

–ó–∞—á–µ–º?
–ü–æ—Ç–æ–º—É —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —É—á–µ–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ–≥–æ –∫–ª–∞—Å—Å–∞). –≠—Ç–æ —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π —Å–ª—É—á–∞–π. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–¥–æ –≤–∫–ª—é—á–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ.

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

python
# –°–æ–∑–¥–∞—ë–º —É—á–µ–Ω–∏–∫–∞, –Ω–µ —É–∫–∞–∑—ã–≤–∞—è use_global
student = Student.objects.create(
    telegram_id=123456789,
    name="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
    # use_global –Ω–µ —É–∫–∞–∑–∞–Ω ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–µ—Ç True
)

print(student.use_global)  # True
–ê –µ—Å–ª–∏ –±—ã –º—ã –∑–∞—Ö–æ—Ç–µ–ª–∏ —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞—Ç—å —É—á–µ–Ω–∏–∫–∞ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º:

python
student = Student.objects.create(
    telegram_id=123456789,
    name="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    use_global=False  # —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º False
)"""

    created_at = models.DateTimeField(auto_now_add=True, verbose_name="–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω")
  # –î–ê–¢–ê –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò
    # –°—Ç–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏
    # –ë–æ–ª—å—à–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
    # –ù—É–∂–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
    
    class Meta:
        verbose_name = "–£—á–µ–Ω–∏–∫"
        verbose_name_plural = "–£—á–µ–Ω–∏–∫–∏"
    
    def __str__(self):
        if self.grade and self.letter:
            return f"{self.name} ({self.grade}{self.letter})"
        return self.name
 """–°—Ç—Ä–æ–∫–∞ 1: def __str__(self):
–û–±—ä—è–≤–ª—è–µ–º –º–µ—Ç–æ–¥. self ‚Äî —ç—Ç–æ —Å–∞–º –æ–±—ä–µ–∫—Ç (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —É—á–µ–Ω–∏–∫).

–°—Ç—Ä–æ–∫–∞ 2: if self.grade and self.letter:
–ü—Ä–æ–≤–µ—Ä—è–µ–º: –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ª–∏ –æ–±–∞ –ø–æ–ª—è (–∫–ª–∞—Å—Å –ò –±—É–∫–≤–∞)?

–ö–∞–∫ Python —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

self.grade ‚Äî –µ—Å–ª–∏ —Ç–∞–º —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10) ‚Üí —ç—Ç–æ True

self.grade ‚Äî –µ—Å–ª–∏ —Ç–∞–º None (–Ω–µ —É–∫–∞–∑–∞–Ω–æ) ‚Üí —ç—Ç–æ False

self.letter ‚Äî –µ—Å–ª–∏ —Ç–∞–º –±—É–∫–≤–∞ ('–ë') ‚Üí True

self.letter ‚Äî –µ—Å–ª–∏ None ‚Üí False

–û–ø–µ—Ä–∞—Ç–æ—Ä and –¥–∞–µ—Ç True —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–±–∞ True.

–°—Ç—Ä–æ–∫–∞ 3: return f"{self.name} ({self.grade}{self.letter})"
–ï—Å–ª–∏ –∫–ª–∞—Å—Å —É–∫–∞–∑–∞–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞ "–ü–µ—Ç—è (10–ë)"

–°—Ç—Ä–æ–∫–∞ 4: return self.name
–ï—Å–ª–∏ –∫–ª–∞—Å—Å –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç–æ –∏–º—è "–ü–µ—Ç—è



# –ü—Ä–∏–º–µ—Ä 1: –ü–µ—Ç—è —É–∫–∞–∑–∞–ª –∫–ª–∞—Å—Å
student1 = Student(name="–ü–µ—Ç—è", grade=10, letter="–ë")
print(student1)  
# –ü—Ä–æ–≤–µ—Ä–∫–∞: grade=10 (True), letter="–ë" (True) ‚Üí –æ–±–∞ True
# –ó–∞—Ö–æ–¥–∏–º –≤ if ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º "–ü–µ—Ç—è (10–ë)"

# –ü—Ä–∏–º–µ—Ä 2: –í–∞—Å—è –µ—â—ë –Ω–µ —É–∫–∞–∑–∞–ª –∫–ª–∞—Å—Å
student2 = Student(name="–í–∞—Å—è", grade=None, letter=None)
print(student2)
# –ü—Ä–æ–≤–µ—Ä–∫–∞: grade=None (False) ‚Üí —É—Å–ª–æ–≤–∏–µ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç–æ "–í–∞—Å—è"

# –ü—Ä–∏–º–µ—Ä 3: –°—Ç—Ä–∞–Ω–Ω—ã–π —Å–ª—É—á–∞–π (—É–∫–∞–∑–∞–Ω –∫–ª–∞—Å—Å, –Ω–æ –Ω–µ—Ç –±—É–∫–≤—ã)
student3 = Student(name="–ú–∞—à–∞", grade=5, letter=None)
print(student3)
# –ü—Ä–æ–≤–µ—Ä–∫–∞: grade=5 (True), letter=None (False) ‚Üí —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç–æ "–ú–∞—à–∞" (–ø–æ—Ç–æ–º—É —á—Ç–æ –±–µ–∑ –±—É–∫–≤—ã –∫–ª–∞—Å—Å –Ω–µ–ø–æ–ª–Ω—ã–π)"""


class GlobalLesson(models.Model):
    DAY_CHOICES = [(1, '–ü–ù'), (2, '–í–¢'), (3, '–°–†'), (4, '–ß–¢'), (5, '–ü–¢')]
    """DAY_CHOICES = [
    (1, '–ü–ù'),  # –≤ –±–∞–∑–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è 1, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "–ü–ù"
    (2, '–í–¢'),  # –≤ –±–∞–∑–µ 2, –≤–∏–¥–∏—Ç "–í–¢"
    (3, '–°–†'),  # –≤ –±–∞–∑–µ 3, –≤–∏–¥–∏—Ç "–°–†"
    (4, '–ß–¢'),  # –≤ –±–∞–∑–µ 4, –≤–∏–¥–∏—Ç "–ß–¢"
    (5, '–ü–¢')   # –≤ –±–∞–∑–µ 5, –≤–∏–¥–∏—Ç "–ü–¢"
]
–ü–æ—á–µ–º—É –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ä–∞–∑—É "–ü–ù" –≤ –±–∞–∑–µ?
–ß–∏—Å–ª–∞ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞
–ü–æ–∏—Å–∫ –ø–æ —á–∏—Å–ª–∞–º –±—ã—Å—Ç—Ä–µ–µ
–ï—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å –ø–æ–º–µ–Ω—è—Ç—å "–ü–ù" –Ω–∞ "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫" ‚Äî –º–µ–Ω—è–µ—à—å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ,
–±–∞–∑—É –Ω–µ —Ç—Ä–æ–≥–∞–µ—à—å"""

    
    grade = models.IntegerField(verbose_name='–ö–ª–∞—Å—Å')
 """  –ß—Ç–æ —ç—Ç–æ: –Ω–æ–º–µ—Ä –∫–ª–∞—Å—Å–∞ (1, 2, 3... 11)

–ü–æ—á–µ–º—É –±–µ–∑ choices? –ü–æ—Ç–æ–º—É —á—Ç–æ —É—Ä–æ–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–ª—è –ª—é–±–æ–≥–æ –∫–ª–∞—Å—Å–∞,
–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.
verbose_name: —á—Ç–æ–±—ã –≤ –∞–¥–º–∏–Ω–∫–µ –±—ã–ª–æ "–ö–ª–∞—Å—Å", –∞ –Ω–µ "Grade"
–í –±–∞–∑–µ: grade INTEGER NOT NULL"""

    letter = models.CharField(max_length=1, verbose_name='–ë—É–∫–≤–∞')
""" –ß—Ç–æ —ç—Ç–æ: –±—É–∫–≤–∞ –∫–ª–∞—Å—Å–∞ ('–ê', '–ë', '–í', '–ì')
max_length=1: —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª (–±–∞–∑–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å)
–ü–æ—á–µ–º—É –±–µ–∑ choices? –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –±—É–∫–≤ –º–æ–∂–µ—Ç 
–±—ã—Ç—å –±–æ–ª—å—à–µ (–≤ –¥—Ä—É–≥–∏—Ö —à–∫–æ–ª–∞—Ö), —Ö–æ—Ç—è –≤ —Ç–≤–æ—ë–º —Å–ª—É—á–∞–µ —Ç–æ–ª—å–∫–æ –ê-–ì.
–í –±–∞–∑–µ: letter VARCHAR(1) NOT NULL"""

    day = models.IntegerField(choices=DAY_CHOICES, verbose_name='–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏')
     ##DAY_CHOICES = [(1, '–ü–ù'), (2, '–í–¢'), (3, '–°–†'......
    number = models.IntegerField(verbose_name='–ù–æ–º–µ—Ä —É—Ä–æ–∫–∞')
    subject = models.CharField(max_length=100, verbose_name='–ü—Ä–µ–¥–º–µ—Ç')
"""
–ß—Ç–æ —ç—Ç–æ: –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ ("–ê–ª–≥–µ–±—Ä–∞", "–§–∏–∑–∏–∫–∞", "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫")
max_length=100: –∑–∞–ø–∞—Å –Ω–∞ –¥–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
–í –±–∞–∑–µ: subject VARCHAR(100) NOT NULL """


    class Meta:
        unique_together = ['grade', 'letter', 'day', 'number']
        
        """verbose_name = '–ì–ª–æ–±–∞–ª—å–Ω—ã–π —É—Ä–æ–∫'–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:
        –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —ç—Ç–∏—Ö —á–µ—Ç—ã—Ä—ë—Ö –ø–æ–ª–µ–π –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –≤–æ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü–µ
        # –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:
    GlobalLesson.objects.create(grade=10, letter='–ë', day=1, number=1, subject='–ê–ª–≥–µ–±—Ä–∞')
    GlobalLesson.objects.create(grade=10, letter='–ë', day=1, number=1, subject='–§–∏–∑–∏–∫–∞')
    # –í –±–∞–∑–µ –¥–≤–∞ —É—Ä–æ–∫–∞ –≤ –æ–¥–Ω–æ –≤—Ä–µ–º—è! –ö–ê–®–ê!"""
        
        verbose_name_plural = '–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏'
        ordering = ['grade', 'letter', 'day', 'number'] 
        
"""–û–±—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Äî –≤–∏—Å–∏—Ç –Ω–∞ —Å—Ç–µ–Ω–¥–µ –≤ –∫–æ—Ä–∏–¥–æ—Ä–µ. –î–ª—è –≤—Å–µ–≥–æ –∫–ª–∞—Å—Å–∞.
–õ–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Äî —É –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞ –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ. 
–ú–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –æ–±—â–µ–≥–æ."""


def __str__(self):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–∫–∞.
    
    –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: "10–ë - –ü–ù - 1. –ê–ª–≥–µ–±—Ä–∞"
    –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
    - 10–ë       ‚Üí –∫–ª–∞—Å—Å –∏ –±—É–∫–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10-–π –∫–ª–∞—Å—Å, –±—É–∫–≤–∞ –ë)
    - –ü–ù        ‚Üí –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (—á–∏—Å–ª–æ 1 –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ '–ü–ù' —á–µ—Ä–µ–∑ get_day_display())
    - 1. –ê–ª–≥–µ–±—Ä–∞ ‚Üí –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞
    
    –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
    - –í –∞–¥–º–∏–Ω–∫–µ Django (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤)
    - –ü—Ä–∏ print(lesson) –≤ –∫–æ–Ω—Å–æ–ª–∏
    - –í –ª–æ–≥–∞—Ö –∏ –æ—Ç–ª–∞–¥–∫–µ
    - –í –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–∞—Ö –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —É—Ä–æ–∫–∞
    
    –ë–µ–∑ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫–µ –±—ã–ª–æ –±—ã: "GlobalLesson object (1)" - –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ!
    –° —ç—Ç–∏–º –º–µ—Ç–æ–¥–æ–º: "10–ë - –ü–ù - 1. –ê–ª–≥–µ–±—Ä–∞" - —Å—Ä–∞–∑—É –≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ!
    """
    return f'{self.grade}{self.letter} - {self.get_day_display()} - {self.number}. {self.subject}'


class PersonalLesson(models.Model):
    """
    –ú–û–î–ï–õ–¨ –õ–ò–ß–ù–û–ì–û –†–ê–°–ü–ò–°–ê–ù–ò–Ø –£–ß–ï–ù–ò–ö–ê
    =================================================
    
    ‚≠ê –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï:
    –•—Ä–∞–Ω–∏—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞.
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —É—á–µ–Ω–∏–∫ –æ—Ç–∫–ª—é—á–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (use_global=False).
    
    üéØ –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø:
    –£—á–µ–Ω–∏–∫ –ú–∞—à–∞ –∏–∑ 10–ë —Ö–æ–¥–∏—Ç –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã –∏ —É –Ω–µ—ë –ª–∏—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.
    –í —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ –±—É–¥—É—Ç —É—Ä–æ–∫–∏, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ –ú–∞—à–µ (student_id=5).
    
    üìä –û–¢–õ–ò–ß–ò–ï –û–¢ –ì–õ–û–ë–ê–õ–¨–ù–û–ì–û –†–ê–°–ü–ò–°–ê–ù–ò–Ø:
    - GlobalLesson ‚Üí –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–ª–∞—Å—Å—É (grade + letter)
    - PersonalLesson ‚Üí –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —É—á–µ–Ω–∏–∫—É (student)
    
    üîó –°–í–Ø–ó–ò:
    - –û–¥–∏–Ω —É—á–µ–Ω–∏–∫ ‚Üí –º–Ω–æ–≥–æ –ª–∏—á–Ω—ã—Ö —É—Ä–æ–∫–æ–≤ (ForeignKey)
    - –ö–∞–∂–¥—ã–π —É—Ä–æ–∫ ‚Üí –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É —É—á–µ–Ω–∏–∫—É
    """
    
    # –î–ù–ò –ù–ï–î–ï–õ–ò –î–õ–Ø –í–´–ü–ê–î–ê–Æ–©–ï–ì–û –°–ü–ò–°–ö–ê
    # -------------------------------------------------
    # –§–æ—Ä–º–∞—Ç: (–∑–Ω–∞—á–µ–Ω–∏–µ_–≤_–±–∞–∑–µ, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ)
    # –í –±–∞–∑–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —á–∏—Å–ª–∞ 1-5 (—ç—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞)
    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ü–ù, –í–¢, –°–†, –ß–¢, –ü–¢ (—á–µ—Ä–µ–∑ get_day_display())
    DAY_CHOICES = [
        (1, '–ü–ù'),  # –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (–≤ –±–∞–∑–µ 1)
        (2, '–í–¢'),  # –≤—Ç–æ—Ä–Ω–∏–∫    (–≤ –±–∞–∑–µ 2)
        (3, '–°–†'),  # —Å—Ä–µ–¥–∞      (–≤ –±–∞–∑–µ 3)
        (4, '–ß–¢'),  # —á–µ—Ç–≤–µ—Ä–≥    (–≤ –±–∞–∑–µ 4)
        (5, '–ü–¢')   # –ø—è—Ç–Ω–∏—Ü–∞    (–≤ –±–∞–∑–µ 5)
    ]
    
    # –°–í–Ø–ó–¨ –° –£–ß–ï–ù–ò–ö–û–ú (–°–ê–ú–û–ï –í–ê–ñ–ù–û–ï –ü–û–õ–ï!)
    # -------------------------------------------------
    # ForeignKey = "–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á" - —Å–æ–∑–¥–∞—ë—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
    # –ö–∞–∂–¥—ã–π –ª–∏—á–Ω—ã–π —É—Ä–æ–∫ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã Student
    student = models.ForeignKey(
        Student,  # –ö –∫–∞–∫–æ–π –º–æ–¥–µ–ª–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º—Å—è
        on_delete=models.CASCADE,  # –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É—á–µ–Ω–∏–∫–∞?
                                   # CASCADE = —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –µ–≥–æ —É—Ä–æ–∫–∏ —Ç–æ–∂–µ
        related_name='personal_lessons',  # –ò–º—è –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏:
                                          # –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å student.personal_lessons.all()
        verbose_name="–£—á–µ–Ω–∏–∫"  # –ö—Ä–∞—Å–∏–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ
    )
    
    # –î–ï–ù–¨ –ù–ï–î–ï–õ–ò
    # -------------------------------------------------
    # –ß–∏—Å–ª–æ –æ—Ç 1 –¥–æ 5 (—Ç–æ–ª—å–∫–æ –∏–∑ DAY_CHOICES)
    # –í –±–∞–∑–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è —á–∏—Å–ª–æ, –Ω–æ —á–µ—Ä–µ–∑ get_day_display() –ø–æ–ª—É—á–∞–µ–º '–ü–ù'
    day = models.IntegerField(
        choices=DAY_CHOICES,  # –¢–æ–ª—å–∫–æ –ü–ù-–ü–¢
        verbose_name='–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏'
    )
    
    # –ù–û–ú–ï–† –£–†–û–ö–ê –ü–û –ü–û–†–Ø–î–ö–£
    # -------------------------------------------------
    # 1, 2, 3, 4, 5, 6, 7... (—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–∫–æ–≤ –≤ –¥–µ–Ω—å)
    number = models.IntegerField(
        verbose_name='–ù–æ–º–µ—Ä —É—Ä–æ–∫–∞'
    )
    
    # –ù–ê–ó–í–ê–ù–ò–ï –ü–†–ï–î–ú–ï–¢–ê
    # -------------------------------------------------
    # –ù–∞–ø—Ä–∏–º–µ—Ä: "–ê–ª–≥–µ–±—Ä–∞", "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫", "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞"
    subject = models.CharField(
        max_length=100,  # –ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤ (–∑–∞–ø–∞—Å –Ω–∞ –¥–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è)
        verbose_name='–ü—Ä–µ–¥–º–µ—Ç'
    )
    
    class Meta:
        """
        –ù–ê–°–¢–†–û–ô–ö–ò –ú–û–î–ï–õ–ò
        =================================================
        """
        
        # –£–ù–ò–ö–ê–õ–¨–ù–û–°–¢–¨: –∑–∞–ø—Ä–µ—Ç –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
        # -----------------------------------------
        # –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ —É—Ä–æ–∫–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞
        # –≤ –æ–¥–∏–Ω –¥–µ–Ω—å —Å –æ–¥–Ω–∏–º –Ω–æ–º–µ—Ä–æ–º!
        # –ù–∞–ø—Ä–∏–º–µ—Ä: —É –ü–µ—Ç–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–∫–∞
        # –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –ø–µ—Ä–≤—ã–º —É—Ä–æ–∫–æ–º
        unique_together = ['student', 'day', 'number']
        
        # –°–û–†–¢–ò–†–û–í–ö–ê –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ
        # -----------------------------------------
        # –ö–æ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –≤—Å–µ —É—Ä–æ–∫–∏, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è:
        # 1. –°–Ω–∞—á–∞–ª–∞ –ø–æ —É—á–µ–Ω–∏–∫—É (–≤—Å–µ —É—Ä–æ–∫–∏ –ü–µ—Ç–∏, –ø–æ—Ç–æ–º –í–∞—Å–ò...)
        # 2. –ü–æ—Ç–æ–º –ø–æ –¥–Ω—é –≤–Ω—É—Ç—Ä–∏ —É—á–µ–Ω–∏–∫–∞ (–ü–ù, –í–¢, –°–†...)
        # 3. –ü–æ—Ç–æ–º –ø–æ –Ω–æ–º–µ—Ä—É —É—Ä–æ–∫–∞ –≤–Ω—É—Ç—Ä–∏ –¥–Ω—è (1, 2, 3...)
        ordering = ['student', 'day', 'number']
        
        # –ù–ê–ó–í–ê–ù–ò–Ø –î–õ–Ø –ê–î–ú–ò–ù–ö–ò
        # -----------------------------------------
        verbose_name = "–õ–∏—á–Ω—ã–π —É—Ä–æ–∫"        # –ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
        verbose_name_plural = "–õ–∏—á–Ω—ã–µ —É—Ä–æ–∫–∏" # –ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
    
    def __str__(self):
        """
        –°–¢–†–û–ö–û–í–û–ï –ü–†–ï–î–°–¢–ê–í–õ–ï–ù–ò–ï –û–ë–™–ï–ö–¢–ê
        =================================================
        
        –§–æ—Ä–º–∞—Ç: "–ü–µ—Ç—è - –ü–ù 1. –ê–Ω–≥–ª–∏–π—Å–∫–∏–π"
        
        –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
        - –ü–µ—Ç—è          ‚Üí –∏–º—è —É—á–µ–Ω–∏–∫–∞ (–±–µ—Ä—ë—Ç—Å—è –∏–∑ —Å–≤—è–∑–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ Student)
        - –ü–ù            ‚Üí –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (—á–∏—Å–ª–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –±—É–∫–≤—ã)
        - 1. –ê–Ω–≥–ª–∏–π—Å–∫–∏–π ‚Üí –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞ –∏ –ø—Ä–µ–¥–º–µ—Ç
        
        –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
        1. self.student ‚Äî –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç Student, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å —ç—Ç–∏–º —É—Ä–æ–∫–æ–º
        2. self.student.name ‚Äî –±–µ—Ä—ë–º –∏–º—è –∏–∑ —Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
        3. self.get_day_display() ‚Äî –ø–æ–ª—É—á–∞–µ–º '–ü–ù' –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–∞ 1
        4. self.number ‚Äî –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞
        5. self.subject ‚Äî –ø—Ä–µ–¥–º–µ—Ç
        
        –ì–¥–µ —ç—Ç–æ –≤–∏–¥–Ω–æ:
        - –í –∞–¥–º–∏–Ω–∫–µ –≤ —Å–ø–∏—Å–∫–µ –ª–∏—á–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
        - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —É—Ä–æ–∫–∞ –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ
        - –ü—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ print(lesson)
        
        –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞:
        - "–ü–µ—Ç—è - –ü–ù 1. –ê–Ω–≥–ª–∏–π—Å–∫–∏–π"
        - "–ú–∞—à–∞ - –í–¢ 3. –§–∏–∑–∏–∫–∞"
        - "–í–∞—Å—è - –°–† 2. –†—É—Å—Å–∫–∏–π —è–∑—ã–∫"
        """
        return f"{self.student.name} - {self.get_day_display()} {self.number}. {self.subject}"

